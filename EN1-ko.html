<!DOCTYPE html>

<html lang="ko">
<head>
<!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4YZHC1G9FN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-4YZHC1G9FN');
    </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>수수 영어야구 쉬움 - 영어단어 맞추기 게임 | Soosooland</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="쉬운 영어 단어로 야구게임! 자리마다 S/B/O 힌트를 주는 친절한 영어 학습 퍼즐. 초등학생도 즐길 수 있는 영어 단어 맞추기.">
    <meta name="keywords" content="수수영어야구, 영어야구, 영어단어게임, 쉬운영어게임, 초등영어, 영어학습게임, 논리게임, 추리게임, bulls and cows">
    <meta name="author" content="Soosooland">
    
    <!-- Open Graph -->
    <meta property="og:title" content="수수 영어야구 쉬움 - 영어단어 맞추기 게임">
    <meta property="og:description" content="쉬운 영어 단어로 야구게임! 자리마다 S/B/O 힌트를 주는 친절한 영어 학습 퍼즐">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://soosooland.com/yagoo/EN1-ko.html">
    <meta property="og:image" content="https://soosooland.com/images/yagoo.png">
    <meta property="og:site_name" content="Soosooland">
    <link rel="canonical" href="https://soosooland.com/yagoo/EN1-ko.html">
    <link rel="alternate" hreflang="ko" href="https://soosooland.com/yagoo/EN1-ko.html">
    <link rel="alternate" hreflang="en" href="https://soosooland.com/yagoo/EN1-en.html">

</head>
<style>
    body { font-family: Arial, sans-serif; background: #0f172a; color: #e5e7eb; display: flex; justify-content: center; padding: 20px; font-size:20px;}
    .app { max-width: 600px; width: 100%; background: #111827; padding: 20px; border-radius: 10px; }
    h1 { margin-top: 0; font-size:30px;}
    select, input, button { padding: 8px; margin: 4px; border-radius: 5px; border: none;  font-size:20px;}
    button { cursor: pointer; font-size:20px;}
    .card { background: #1f2937; padding: 10px; border-radius: 8px; margin-bottom: 10px;font-size:20px; }
    .log { max-height: 300px; overflow-y: auto; }
    .try { display:flex; justify-content:space-between; padding: 6px 0; border-bottom: 1px solid #374151; }
    .status.ok { color: #34d399; }
    .status.warn { color: #f59e0b; }
    .status.err { color: #f87171; }
    label {font-size:20px;}

/* === 글자수 선택 버튼 === */
.length-buttons {
display: flex;
gap: 8px;
margin: 10px 0;
}

.length-btn {
padding: 10px 15px;
border-radius: 6px;
border: 2px solid #374151;
background: #1f2937;
color: #e5e7eb;
cursor: pointer;
font-size: 18px;
font-weight: bold;
transition: all 0.2s;
}

.length-btn:hover {
background: #374151;
}

.length-btn.active {
background: #059669;
border-color: #10b981;
color: white;
}

/* === 현재 입력 중인 단어 표시 === */
.current-word {
font-size: 28px;
font-weight: bold;
text-align: center;
padding: 15px;
background: #374151;
border-radius: 8px;
margin: 10px 0;
letter-spacing: 4px;
min-height: 40px;
display: flex;
align-items: center;
justify-content: center;
}

/* === 알파벳 키보드 === */
.kb { margin-top:10px; display:grid; grid-template-columns: repeat(auto-fit, minmax(40px,1fr)); gap:8px; }
.key {
padding:15px 8px; border-radius:8px; text-align:center; font-weight:700; font-size:18px;
background:#1a2430; color:#d0ddea; border:1px solid #374151; user-select:none;
cursor: pointer; transition: all 0.2s;
}
.key:hover { background:#2a3441; }
.key:active { transform: scale(0.95); }
.key.idle { background:#1a2430; color:#d0ddea; }
.key.hit  { background:#8fd3ff; color:#062033; border-color:transparent; }  /* 있다 */
.key.out  { background:#fccad6; color:#3a0010; border-color:transparent; }  /* 없다 */

/* === 특수 키 === */
.special-keys { display: flex; gap: 8px; margin-top: 10px; }
.special-key {
flex: 1;
padding: 12px;
border-radius: 8px;
text-align: center;
font-weight: 700;
cursor: pointer;
border: 1px solid #374151;
transition: all 0.2s;
}
.backspace { background:#059669; color: white; }
.backspace:hover { background:#047857; }
.enter { background: #059669; color: white; }
.enter:hover { background: #047857; }
.enter:disabled { background: #374151; color: #6b7280; cursor: not-allowed; }

.legend { display:flex; gap:8px; align-items:center; flex-wrap:wrap; font-size:16px; color:#94a3b8; }
.legend .swatch { display:inline-block; width:14px; height:14px; border-radius:4px; margin-right:6px; vertical-align:-2px; }

/* 모바일에서 기존 입력창 숨기기 */
.hidden { display: none; }

  </style>
</head>
<body>

  <div class="app">
    <h1>수수 영어 야구 <span style="color:#94a3b8"></span></h1>

<div class="card">
  <strong>게임 규칙</strong>
  <ol style="font-size:18px; padding-left:20px;">
    <li>비밀 영어 단어를 맞히세요.</li>
    <li>단어 길이(3/4/5/6)를 선택합니다.</li>
    <li>S=자리·글자 모두 맞음, B=글자만 맞음, O=없음.</li>
    <li>기록에는 <b>자리별 결과 문자열만</b> 표시합니다. (예: <code>SOBB</code>)</li>
    <li>아래 알파벳 키보드로 직접 입력하세요.</li>
  </ol>
</div>

<div class="card">
  <label>글자수 고르기</label>
  <div class="length-buttons">
    <button class="length-btn" data-length="3">3</button>
    <button class="length-btn active" data-length="4">4</button>
    <button class="length-btn" data-length="5">5</button>
    <button class="length-btn" data-length="6">6</button>
    <button id="newGame">새 게임</button>
</div>
  </div>

<div class="card">
  <div id="status" class="status"></div>
</div>

<div class="card">
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <strong>기록</strong>
    <button id="reveal">정답 보기</button>
  </div>
  <div class="log" id="log">
    <!-- 여기에 기록과 현재 입력창이 함께 표시됩니다 -->
  </div>
</div>

<div class="card">
  <div class="legend" style="margin:8px 0 6px;">
    <p>알파벳 힌트 겸 키보드</p><span><span class="swatch" style="background:#1a2430;border:1px solid #374151;"></span>미시도</span>
    <span><span class="swatch" style="background:#8fd3ff;"></span>있다</span>
    <span><span class="swatch" style="background:#fccad6;"></span>없다</span>
  </div>
  <div id="kb" class="kb" aria-label="알파벳 키보드"></div>
  <div class="special-keys">
    <div class="special-key backspace" id="backspace">⌫ 지우기</div>
    <div class="special-key enter" id="enterKey">입력</div>
  </div>
</div>

<button onclick="window.open('hints.html', '_blank')">워드풀 보기</button>

  </div>

  <script>
    // === 워드풀 (축약 버전) ===
    const WORDPOOL = ["ABLE", "ABOUT", "ABOVE", "ABROAD", "ABSENT", "ABSORB", "ABSURD", "ABUSE", "ACCENT", "ACCEPT", "ACCESS", "ACCUSE", "ACID", "ACRE", "ACROSS", "ACT", "ACTION", "ACTIVE", "ACTOR", "ACTUAL", "ACUTE", "ADAPT", "ADD", "ADHERE", "ADJUST", "ADMIRE", "ADMIT", "ADOPT", "ADULT", "ADVICE", "ADVISE", "AFFAIR", "AFFECT", "AFFORD", "AFRAID", "AFRICA", "AFTER", "AGAIN", "AGE", "AGED", "AGENCY", "AGENDA", "AGENT", "AGO", "AGREE", "AHEAD", "AIDE", "AIDS", "AIM", "AIR", "ALARM", "ALASKA", "ALBEIT", "ALBUM", "ALERT", "ALIEN", "ALIGN", "ALIKE", "ALIVE", "ALL", "ALLEGE", "ALLOW", "ALLY", "ALMOST", "ALOE", "ALONE", "ALONG", "ALPACA", "ALPS", "ALSO", "ALTER", "ALWAYS", "AMAZED", "AMAZON", "AMEND", "AMID", "AMONG", "AMOUNT", "ANCHOR", "AND", "ANGEL", "ANGER", "ANGLE", "ANGRY", "ANIMAL", "ANKLE", "ANNOY", "ANNUAL", "ANSWER", "ANT", "ANY", "ANYONE", "ANYWAY", "APART", "APP", "APPEAL", "APPEAR", "APPLE", "APPLY", "APRIL", "AREA", "ARENA", "ARGUE", "ARISE", "ARM", "ARMED", "ARMS", "ARMY", "AROUND", "ARRAY", "ARREST", "ARRIVE", "ARROW", "ART", "ARTIST", "ASH", "ASIA", "ASIDE", "ASK", "ASLEEP", "ASPECT", "ASPIRE", "ASSERT", "ASSESS", "ASSET", "ASSIGN", "ASSIST", "ASSUME", "ASSURE", "ASYLUM", "ATTACH", "ATTACK", "ATTAIN", "ATTEND", "AUDIO", "AUDIT", "AUGUST", "AUNT", "AUTHOR", "AUTO", "AUTUMN", "AVOID", "AWAIT", "AWARD", "AWARE", "AWAY", "AWFUL", "BAA", "BABY", "BACK", "BACKUP", "BAD", "BADGE", "BADLY", "BAG", "BAIL", "BAKE", "BALL", "BALLET", "BALLOT", "BAMBOO", "BAN", "BANANA", "BAND", "BANG", "BANK", "BANNER", "BAOBAB", "BAR", "BARE", "BARELY", "BARREL", "BASE", "BASED", "BASIC", "BASIL", "BASIS", "BASKET", "BASS", "BAT", "BATH", "BATTLE", "BAY", "BEACH", "BEAM", "BEAN", "BEAR", "BEAST", "BEAT", "BEAUTY", "BEAVER", "BECOME", "BED", "BEE", "BEEF", "BEEP", "BEER", "BEET", "BEFORE", "BEGIN", "BEHALF", "BEHAVE", "BEHIND", "BEING", "BELIEF", "BELL", "BELONG", "BELOW", "BELT", "BENCH", "BEND", "BENT", "BERLIN", "BESIDE", "BEST", "BETRAY", "BETTER", "BEYOND", "BIAS", "BIG", "BIKE", "BILL", "BIN", "BIND", "BIRD", "BIRTH", "BISHOP", "BISON", "BIT", "BITE", "BITTER", "BLACK", "BLADE", "BLAME", "BLANK", "BLAST", "BLEED", "BLEND", "BLESS", "BLIND", "BLOCK", "BLOG", "BLONDE", "BLOOD", "BLOW", "BLUE", "BOARD", "BOAST", "BOAT", "BODY", "BOIL", "BOLD", "BOMB", "BOND", "BONE", "BONUS", "BOO", "BOOK", "BOOM", "BOOST", "BOOT", "BORDER", "BORED", "BORING", "BORN", "BORROW", "BOSS", "BOTH", "BOTHER", "BOTTLE", "BOTTOM", "BOUNCE", "BOUND", "BOW", "BOWL", "BOX", "BOY", "BRAIN", "BRANCH", "BRAND", "BRAVE", "BRAZIL", "BREACH", "BREAD", "BREAK", "BREAST", "BREATH", "BREED", "BRICK", "BRIDE", "BRIDGE", "BRIEF", "BRIGHT", "BRING", "BROAD", "BROKEN", "BROWN", "BRUSH", "BRUTAL", "BUBBLE", "BUCK", "BUDDY", "BUDGET", "BUFFER", "BUILD", "BULK", "BULL", "BULLET", "BUNCH", "BURDEN", "BURIAL", "BURN", "BURST", "BURY", "BUS", "BUSAN", "BUSH", "BUSY", "BUT", "BUTTER", "BUTTON", "BUY", "BUZZ", "BYE", "CABIN", "CABLE", "CAFE", "CAIRO", "CAKE", "CALL", "CALM", "CAMEL", "CAMERA", "CAMP", "CAMPUS", "CAN", "CANADA", "CANAL", "CANCEL", "CANCER", "CANDLE", "CANNOT", "CANVAS", "CAP", "CAR", "CARBON", "CARD", "CARE", "CAREER", "CARGO", "CARPET", "CARROT", "CARRY", "CARVE", "CASE", "CASH", "CASINO", "CAST", "CASTLE", "CASUAL", "CAT", "CATCH", "CATER", "CATTLE", "CAUSE", "CAVE", "CEASE", "CELERY", "CELL", "CENT", "CENTRE", "CHAIN", "CHAIR", "CHANCE", "CHANGE", "CHAOS", "CHARGE", "CHARM", "CHART", "CHASE", "CHAT", "CHEAP", "CHEAT", "CHECK", "CHEEK", "CHEER", "CHEESE", "CHEF", "CHERRY", "CHEST", "CHIEF", "CHILD", "CHILE", "CHINA", "CHIP", "CHIRP", "CHOICE", "CHOIR", "CHOOSE", "CHOP", "CHUNK", "CHURCH", "CINEMA", "CIRCLE", "CITE", "CITY", "CIVIC", "CIVIL", "CLAIM", "CLASH", "CLASS", "CLAUSE", "CLEAN", "CLEAR", "CLERK", "CLEVER", "CLICK", "CLIENT", "CLIFF", "CLIMB", "CLING", "CLINIC", "CLIP", "CLOCK", "CLOSE", "CLOSED", "CLOTH", "CLOUD", "CLOVE", "CLUB", "CLUE", "COACH", "COAL", "COAST", "COAT", "CODE", "COFFEE", "COIN", "COLD", "COLONY", "COLOUR", "COLUMN", "COMBAT", "COME", "COMEDY", "COMIC", "COMMIT", "COMMON", "COMPEL", "COMPLY", "CONFER", "CONVEY", "COO", "COOK", "COOKER", "COOL", "COP", "COPE", "COPPER", "COPY", "CORE", "CORN", "CORNER", "COSMOS", "COST", "COSTLY", "COTTON", "COULD", "COUNT", "COUNTY", "COUP", "COUPLE", "COURSE", "COURT", "COUSIN", "COVER", "COW", "CRAB", "CRACK", "CRAFT", "CRASH", "CRAWL", "CRAZY", "CREAM", "CREATE", "CREDIT", "CREEP", "CREW", "CRIME", "CRISIS", "CRITIC", "CROP", "CROSS", "CROWD", "CROWN", "CRUDE", "CRUEL", "CRUISE", "CRUSH", "CRY", "CUCKOO", "CULT", "CUP", "CURE", "CURLY", "CURVE", "CURVED", "CUSTOM", "CUT", "CUTE", "CYCLE", "DAD", "DAILY", "DAIRY", "DAISY", "DAM", "DAMAGE", "DANCE", "DANCER", "DANGER", "DARE", "DARK", "DATA", "DATE", "DAWN", "DAY", "DEAD", "DEADLY", "DEAL", "DEALER", "DEAR", "DEATH", "DEBATE", "DEBRIS", "DEBT", "DEBUT", "DECADE", "DECENT", "DECIDE", "DECK", "DEED", "DEEM", "DEEP", "DEEPLY", "DEER", "DEFEAT", "DEFECT", "DEFEND", "DEFINE", "DEFY", "DEGREE", "DELAY", "DELETE", "DEMAND", "DEMON", "DENIAL", "DENSE", "DENY", "DEPART", "DEPEND", "DEPICT", "DEPLOY", "DEPTH", "DEPUTY", "DERIVE", "DESERT", "DESIGN", "DESIRE", "DESK", "DETAIL", "DETAIN", "DETECT", "DEVICE", "DEVIL", "DEVISE", "DEVOTE", "DIARY", "DIE", "DIET", "DIFFER", "DILL", "DING", "DINNER", "DIP", "DIRECT", "DIRT", "DIRTY", "DISC", "DISH", "DISK", "DIVE", "DIVERT", "DIVIDE", "DIVINE", "DOCTOR", "DODO", "DOG", "DOLLAR", "DOMAIN", "DONATE", "DONG", "DONKEY", "DONOR", "DOOR", "DOSE", "DOUBLE", "DOUBT", "DOWN", "DOZEN", "DRAFT", "DRAG", "DRAIN", "DRAMA", "DRAW", "DREAM", "DRESS", "DRIFT", "DRINK", "DRIVE", "DRIVER", "DROP", "DROWN", "DRUG", "DRUM", "DRUNK", "DRY", "DUAL", "DUB", "DUBAI", "DUCK", "DUE", "DULL", "DUMB", "DUMP", "DUO", "DURING", "DUST", "DUTY", "DVD", "EACH", "EAGER", "EAGLE", "EAR", "EARLY", "EARN", "EARTH", "EASE", "EASILY", "EAST", "EASY", "EAT", "ECHO", "EDGE", "EDIT", "EDITOR", "EFFECT", "EFFORT", "EGG", "EGO", "EGYPT", "EIGHT", "EIGHTY", "EITHER", "ELBOW", "ELECT", "ELEVEN", "ELITE", "ELSE", "EMAIL", "EMBARK", "EMBED", "EMBODY", "EMERGE", "EMPIRE", "EMPLOY", "EMPTY", "ENABLE", "ENACT", "END", "ENDING", "ENDURE", "ENEMY", "ENERGY", "ENGAGE", "ENGINE", "ENJOY", "ENOUGH", "ENRICH", "ENROL", "ENSUE", "ENSURE", "ENTER", "ENTIRE", "ENTITY", "ENTRY", "EQUAL", "EQUIP", "ERECT", "ERROR", "ERUPT", "ESCAPE", "ESSAY", "ESTATE", "ETHIC", "ETHNIC", "EURO", "EUROPE", "EVEN", "EVENT", "EVER", "EVERY", "EVIL", "EVOKE", "EVOLVE", "EXACT", "EXAM", "EXCEED", "EXCEPT", "EXCESS", "EXCUSE", "EXERT", "EXILE", "EXIST", "EXIT", "EXOTIC", "EXPAND", "EXPECT", "EXPERT", "EXPIRE", "EXPORT", "EXPOSE", "EXTEND", "EXTENT", "EXTRA", "EYE", "FABRIC", "FACE", "FACT", "FACTOR", "FADE", "FAIL", "FAILED", "FAIR", "FAIRLY", "FAITH", "FAKE", "FALL", "FALSE", "FAME", "FAMILY", "FAMOUS", "FAN", "FANCY", "FAR", "FARE", "FARM", "FARMER", "FAST", "FASTEN", "FAT", "FATAL", "FATE", "FATHER", "FAULT", "FAVOUR", "FEAR", "FEAT", "FEED", "FEEL", "FELLOW", "FEMALE", "FENCE", "FENNEL", "FEVER", "FEW", "FIBRE", "FIELD", "FIERCE", "FIFTH", "FIFTY", "FIG", "FIGHT", "FIGURE", "FILE", "FILL", "FILM", "FILTER", "FINAL", "FIND", "FINE", "FINGER", "FINISH", "FIRE", "FIRM", "FIRMLY", "FIRST", "FISH", "FIT", "FIVE", "FIX", "FIXED", "FLAG", "FLAME", "FLASH", "FLAT", "FLAW", "FLAWED", "FLEE", "FLEET", "FLESH", "FLIGHT", "FLOAT", "FLOOD", "FLOOR", "FLOUR", "FLOW", "FLOWER", "FLU", "FLUID", "FLY", "FLYING", "FOCUS", "FOLD", "FOLK", "FOLLOW", "FOND", "FOOD", "FOOL", "FOOT", "FOR", "FORBID", "FORCE", "FOREST", "FORGE", "FORGET", "FORK", "FORM", "FORMAL", "FORMAT", "FORMER", "FORTH", "FORTY", "FORUM", "FOSSIL", "FOSTER", "FOUND", "FOUR", "FOURTH", "FOX", "FRAME", "FRANCE", "FRAUD", "FREE", "FREELY", "FREEZE", "FRESH", "FRIDAY", "FRIDGE", "FRIEND", "FROG", "FROM", "FRONT", "FROZEN", "FRUIT", "FRY", "FUEL", "FULFIL", "FULL", "FULLY", "FUN", "FUND", "FUNNY", "FUR", "FUTURE", "GAIN", "GALLON", "GAME", "GAMING", "GANG", "GAP", "GARAGE", "GARDEN", "GARLIC", "GAS", "GATE", "GATHER", "GAZE", "GEAR", "GENDER", "GENE", "GENIUS", "GENRE", "GENTLE", "GET", "GHOST", "GIANT", "GIFT", "GIGGLE", "GINGER", "GIRL", "GIVE", "GLAD", "GLANCE", "GLASS", "GLOBAL", "GLOBE", "GLORY", "GLOVE", "GOAL", "GOAT", "GOD", "GOLD", "GOLDEN", "GOLF", "GOOD", "GOODS", "GOVERN", "GRAB", "GRACE", "GRADE", "GRAIN", "GRAND", "GRANT", "GRAPE", "GRASP", "GRASS", "GRAVE", "GREAT", "GREECE", "GREEN", "GREET", "GREY", "GRID", "GRIEF", "GRIN", "GRIND", "GRIP", "GROSS", "GROUND", "GROUP", "GROW", "GROWL", "GROWTH", "GUARD", "GUAVA", "GUESS", "GUEST", "GUIDE", "GUILT", "GUILTY", "GUITAR", "GUN", "GUT", "GUY", "GYM", "HABIT", "HAHA", "HAIL", "HAIR", "HALF", "HALL", "HALT", "HAND", "HANDLE", "HANDY", "HANG", "HAPPEN", "HAPPY", "HARD", "HARDLY", "HARM", "HARSH", "HAT", "HATE", "HATRED", "HAUNT", "HAVE", "HAZARD", "HEAD", "HEAL", "HEALTH", "HEAR", "HEART", "HEAT", "HEAVEN", "HEAVY", "HEEL", "HEHE", "HEIGHT", "HELL", "HELLO", "HELMET", "HELP", "HEN", "HENCE", "HER", "HERB", "HERE", "HERO", "HERS", "HEY", "HIDDEN", "HIDE", "HIGH", "HIGHLY", "HILL", "HIM", "HINT", "HIRE", "HIS", "HIT", "HOBBY", "HOCKEY", "HOLD", "HOLE", "HOLLOW", "HOLY", "HOME", "HONEST", "HONK", "HONOUR", "HOOK", "HOPE", "HORN", "HORROR", "HORSE", "HOST", "HOT", "HOTEL", "HOUR", "HOUSE", "HOW", "HUGE", "HUM", "HUMAN", "HUMBLE", "HUMOUR", "HUNGER", "HUNGRY", "HUNT", "HURRY", "HURT", "ICE", "ICON", "IDEA", "IDEAL", "IDIOT", "IGNORE", "ILL", "IMAGE", "IMMUNE", "IMPACT", "IMPLY", "IMPORT", "IMPOSE", "INCH", "INCOME", "INCUR", "INDEED", "INDEX", "INDIA", "INDIAN", "INDOOR", "INDUCE", "INFANT", "INFECT", "INFER", "INFO", "INFORM", "INJECT", "INJURE", "INJURY", "INMATE", "INNER", "INPUT", "INSECT", "INSERT", "INSIDE", "INSIST", "INSULT", "INTACT", "INTAKE", "INTEND", "INTENT", "INTO", "INVADE", "INVENT", "INVEST", "INVITE", "INVOKE", "IRON", "IRONIC", "IRONY", "ISLAND", "ISRAEL", "ISSUE", "ITALY", "ITEM", "ITS", "ITSELF", "IVY", "JACKAL", "JACKET", "JAGUAR", "JAIL", "JAM", "JAPAN", "JAZZ", "JEANS", "JEJU", "JOB", "JOIN", "JOINT", "JOKE", "JUDGE", "JUICE", "JULY", "JUMP", "JUNE", "JUNIOR", "JURY", "JUST", "KALE", "KEEN", "KEEP", "KENYA", "KEY", "KICK", "KID", "KIDNAP", "KIDNEY", "KILL", "KIND", "KING", "KISS", "KIWI", "KNEE", "KNIFE", "KNOCK", "KNOW", "KOALA", "KOREA", "KRILL", "KUWAIT", "LAB", "LABEL", "LABOUR", "LACK", "LAD", "LADDER", "LADY", "LAKE", "LAMB", "LAMP", "LAND", "LANE", "LAP", "LAPTOP", "LARGE", "LARK", "LASER", "LAST", "LATE", "LATELY", "LATER", "LATEST", "LATTER", "LAUGH", "LAUNCH", "LAW", "LAWN", "LAWYER", "LAY", "LAYER", "LAYOUT", "LAZY", "LEAD", "LEADER", "LEAF", "LEAGUE", "LEAK", "LEAN", "LEAP", "LEARN", "LEAST", "LEAVE", "LEFT", "LEG", "LEGACY", "LEGAL", "LEGEND", "LEMON", "LEND", "LENGTH", "LENS", "LESS", "LESSER", "LESSON", "LET", "LETHAL", "LETTER", "LEVEL", "LIABLE", "LIE", "LIFE", "LIFT", "LIGHT", "LIKE", "LIKELY", "LILAC", "LILY", "LIMB", "LIME", "LIMIT", "LINE", "LINEAR", "LINEUP", "LINGER", "LINK", "LION", "LIP", "LIQUID", "LISBON", "LIST", "LISTEN", "LITRE", "LITTER", "LITTLE", "LIVE", "LIVELY", "LIVER", "LIVING", "LLAMA", "LOAD", "LOAN", "LOBBY", "LOCAL", "LOCATE", "LOCK", "LOG", "LOGIC", "LOGO", "LONDON", "LONELY", "LONG", "LOOK", "LOOM", "LOOP", "LOOSE", "LORD", "LORRY", "LOSE", "LOSS", "LOST", "LOT", "LOUD", "LOUDLY", "LOVE", "LOVELY", "LOW", "LOWER", "LOYAL", "LUCK", "LUCKY", "LUNCH", "LUNG", "LUXURY", "LYRIC", "MAD", "MADRID", "MAGIC", "MAIL", "MAIN", "MAINLY", "MAJOR", "MAKE", "MAKEUP", "MAKING", "MALE", "MALL", "MAN", "MANAGE", "MANGO", "MANNER", "MANY", "MAP", "MAPLE", "MARCH", "MARGIN", "MARINE", "MARK", "MARKER", "MARKET", "MARRY", "MASK", "MASS", "MASTER", "MATCH", "MATE", "MATHS", "MATTER", "MATURE", "MAY", "MAYBE", "MAYOR", "MEAL", "MEAN", "MEANS", "MEAT", "MEDAL", "MEDIA", "MEDIUM", "MEET", "MELODY", "MELON", "MELT", "MEMBER", "MEMO", "MEMOIR", "MEMORY", "MENTAL", "MENTOR", "MENU", "MEOW", "MERCY", "MERE", "MERELY", "MERGE", "MERGER", "MERIT", "MESS", "METAL", "METHOD", "METRE", "MEXICO", "MIAMI", "MIDDLE", "MIDST", "MIGHT", "MILD", "MILE", "MILK", "MILL", "MIND", "MINE", "MINER", "MINING", "MINOR", "MINT", "MINUTE", "MIRROR", "MISERY", "MISS", "MIX", "MIXED", "MOB", "MOBILE", "MODAL", "MODE", "MODEL", "MODERN", "MODEST", "MODIFY", "MOMENT", "MONACO", "MONDAY", "MONEY", "MONK", "MONKEY", "MONTH", "MOO", "MOOD", "MOON", "MORAL", "MORE", "MOSQUE", "MOSS", "MOST", "MOSTLY", "MOTHER", "MOTION", "MOTIVE", "MOTOR", "MOUNT", "MOUSE", "MOUTH", "MOVE", "MOVIE", "MOVING", "MUCH", "MUD", "MUM", "MUNCH", "MURDER", "MUSCLE", "MUSEUM", "MUSIC", "MUST", "MUTUAL", "MYSELF", "MYTH", "NAIL", "NAKED", "NAME", "NAMELY", "NARROW", "NASTY", "NATION", "NATIVE", "NATURE", "NAVAL", "NEAR", "NEARBY", "NEARLY", "NEAT", "NECK", "NEED", "NEEDLE", "NEIGH", "NEPAL", "NERVE", "NEST", "NET", "NEVER", "NEW", "NEWLY", "NEWS", "NEXT", "NICE", "NICHE", "NIGHT", "NINE", "NINETY", "NOBLE", "NOBODY", "NOD", "NOISE", "NOISY", "NONE", "NOON", "NOR", "NORM", "NORMAL", "NORTH", "NORWAY", "NOSE", "NOT", "NOTE", "NOTICE", "NOTIFY", "NOTION", "NOVEL", "NOW", "NUMBER", "NURSE", "NUT", "OAK", "OBEY", "OBJECT", "OBLIGE", "OBSESS", "OBTAIN", "OCCUPY", "OCCUR", "OCEAN", "ODD", "ODDS", "OFF", "OFFEND", "OFFER", "OFFICE", "OFTEN", "OIL", "OINK", "OLD", "OLIVE", "ONCE", "ONE", "ONION", "ONLINE", "ONLY", "ONTO", "OOPS", "OPEN", "OPENLY", "OPERA", "OPPOSE", "OPT", "OPTION", "ORAL", "ORANGE", "ORDER", "ORGAN", "ORIGIN", "OTHER", "OUGHT", "OUR", "OURS", "OUT", "OUTER", "OUTFIT", "OUTING", "OUTLET", "OUTPUT", "OVEN", "OVER", "OVERLY", "OWL", "OWN", "OWNER", "OXYGEN", "PACE", "PACK", "PACKET", "PAD", "PAGE", "PAIN", "PAINT", "PAIR", "PALACE", "PALE", "PALM", "PAN", "PANAMA", "PANDA", "PANEL", "PANIC", "PANSY", "PANTS", "PAPAYA", "PAPER", "PARADE", "PARENT", "PARIS", "PARISH", "PARK", "PART", "PARTLY", "PARTY", "PASS", "PAST", "PASTOR", "PATCH", "PATENT", "PATH", "PATROL", "PATRON", "PAUSE", "PAY", "PEACE", "PEACH", "PEAK", "PEAR", "PEER", "PEN", "PENCIL", "PENNY", "PEOPLE", "PEPPER", "PER", "PERIOD", "PERMIT", "PERSON", "PERU", "PET", "PETROL", "PHASE", "PHONE", "PHOTO", "PHRASE", "PIANO", "PICK", "PIECE", "PIG", "PIGEON", "PIGLET", "PILE", "PILL", "PILOT", "PIN", "PINE", "PINK", "PIPE", "PIRATE", "PIT", "PITCH", "PITY", "PLACE", "PLAIN", "PLAN", "PLANE", "PLANET", "PLANT", "PLATE", "PLAY", "PLAYER", "PLEA", "PLEAD", "PLEASE", "PLEDGE", "PLENTY", "PLOT", "PLUG", "PLUM", "PLUNGE", "PLUS", "POCKET", "POEM", "POET", "POETRY", "POINT", "POISON", "POLAND", "POLE", "POLICE", "POLICY", "POLITE", "POLL", "POND", "PONY", "POOL", "POOR", "POP", "PORT", "POSE", "POST", "POSTER", "POT", "POTATO", "POUND", "POUR", "POWDER", "POWER", "PRAISE", "PRAY", "PRAYER", "PREACH", "PREFER", "PRESS", "PRETTY", "PREY", "PRICE", "PRIDE", "PRIEST", "PRIME", "PRINCE", "PRINT", "PRIOR", "PRISON", "PRIZE", "PRO", "PROBE", "PROFIT", "PROMPT", "PROOF", "PROPER", "PROUD", "PROVE", "PUB", "PUBLIC", "PULL", "PULSE", "PUMA", "PUMP", "PUNCH", "PUNISH", "PUNK", "PUPIL", "PURE", "PURELY", "PURPLE", "PURSUE", "PUSH", "PUT", "PUZZLE", "QUACK", "QUEEN", "QUERY", "QUEST", "QUEUE", "QUICK", "QUIET", "QUIT", "QUITE", "QUOTA", "QUOTE", "RABBIT", "RACE", "RACIAL", "RACING", "RACISM", "RACIST", "RADAR", "RADIO", "RADISH", "RAGE", "RAID", "RAIL", "RAIN", "RAISE", "RALLY", "RANDOM", "RANGE", "RANK", "RAPE", "RAPID", "RARE", "RARELY", "RATE", "RATHER", "RATING", "RATIO", "RATTLE", "RAY", "REACH", "REACT", "READ", "READER", "READY", "REAL", "REALLY", "REALM", "REAR", "REASON", "REBEL", "RECALL", "RECENT", "RECIPE", "RECKON", "RECORD", "RED", "REDUCE", "REFER", "REFORM", "REFUGE", "REFUSE", "REGAIN", "REGARD", "REGIME", "REGION", "REGRET", "REIGN", "REJECT", "RELATE", "RELAX", "RELIEF", "RELY", "REMAIN", "REMARK", "REMEDY", "REMIND", "REMOTE", "REMOVE", "RENDER", "RENEW", "RENT", "RENTAL", "REPAIR", "REPEAT", "REPLY", "REPORT", "RESCUE", "RESIDE", "RESIGN", "RESIST", "RESORT", "REST", "RESULT", "RESUME", "RETAIL", "RETAIN", "RETIRE", "RETURN", "REVEAL", "REVIEW", "REVISE", "REVIVE", "REWARD", "RHYTHM", "RIBBIT", "RICE", "RICH", "RIDE", "RIFLE", "RIGHT", "RING", "RIOT", "RIP", "RISE", "RISK", "RISKY", "RITUAL", "RIVAL", "RIVER", "ROAD", "ROBOT", "ROBUST", "ROCK", "ROCKET", "ROCKY", "ROD", "ROLE", "ROLL", "ROME", "ROOF", "ROOM", "ROOT", "ROPE", "ROSE", "ROTATE", "ROUGH", "ROUND", "ROUTE", "ROW", "ROYAL", "RUBBER", "RUDE", "RUGBY", "RUIN", "RULE", "RULING", "RUMOUR", "RUN", "RUNNER", "RURAL", "RUSH", "RUSSIA", "SACK", "SACRED", "SAD", "SADLY", "SAFE", "SAFETY", "SAGE", "SAHARA", "SAIL", "SAILOR", "SAINT", "SAKE", "SALAD", "SALARY", "SALE", "SALMON", "SALT", "SAME", "SAMPLE", "SAND", "SAUCE", "SAVE", "SAVING", "SAY", "SCALE", "SCAN", "SCARE", "SCARED", "SCARY", "SCENE", "SCHEME", "SCHOOL", "SCOPE", "SCORE", "SCREAM", "SCREEN", "SCREW", "SCRIPT", "SEA", "SEAL", "SEARCH", "SEASON", "SEAT", "SECOND", "SECRET", "SECTOR", "SECURE", "SEE", "SEED", "SEEK", "SEEKER", "SEEM", "SEIZE", "SELDOM", "SELECT", "SELF", "SELL", "SEND", "SENIOR", "SENSE", "SEOUL", "SERIAL", "SERIES", "SERVE", "SET", "SETTLE", "SETUP", "SEVEN", "SEVERE", "SEX", "SEXUAL", "SEXY", "SHADE", "SHADOW", "SHAKE", "SHALL", "SHAME", "SHAPE", "SHAPED", "SHARE", "SHARK", "SHARP", "SHE", "SHED", "SHEEP", "SHEER", "SHEET", "SHELF", "SHELL", "SHH", "SHIFT", "SHINE", "SHINY", "SHIP", "SHIRT", "SHOCK", "SHOE", "SHOOT", "SHOP", "SHORE", "SHORT", "SHOT", "SHOULD", "SHOUT", "SHOW", "SHOWER", "SHRIMP", "SHRINK", "SHRUG", "SHUT", "SHY", "SICK", "SIDE", "SIGH", "SIGHT", "SIGN", "SIGNAL", "SILENT", "SILK", "SILLY", "SILVER", "SIMPLE", "SIMPLY", "SIN", "SINCE", "SING", "SINGER", "SINGLE", "SINK", "SIR", "SISTER", "SIT", "SITE", "SIX", "SIXTY", "SIZE", "SKETCH", "SKI", "SKIING", "SKILL", "SKIN", "SKIP", "SKIRT", "SKULL", "SKUNK", "SKY", "SLAM", "SLAP", "SLASH", "SLAVE", "SLEEP", "SLICE", "SLIDE", "SLIGHT", "SLIP", "SLOGAN", "SLOPE", "SLOT", "SLOW", "SLOWLY", "SMALL", "SMART", "SMASH", "SMELL", "SMILE", "SMOKE", "SMOOTH", "SNAIL", "SNAKE", "SNAP", "SNORE", "SNOW", "SOAK", "SOAP", "SOAR", "SOCCER", "SOCIAL", "SOCK", "SOFT", "SOIL", "SOLAR", "SOLE", "SOLELY", "SOLID", "SOLO", "SOLVE", "SOME", "SON", "SONG", "SOON", "SORRY", "SORT", "SOUL", "SOUND", "SOUP", "SOURCE", "SOUTH", "SPACE", "SPAIN", "SPAM", "SPAN", "SPARE", "SPARK", "SPEAK", "SPEECH", "SPEED", "SPELL", "SPEND", "SPHERE", "SPICE", "SPICY", "SPIDER", "SPILL", "SPIN", "SPINE", "SPIRIT", "SPITE", "SPLASH", "SPLIT", "SPOIL", "SPOKEN", "SPONGE", "SPOON", "SPORT", "SPOT", "SPOUSE", "SPREAD", "SPRING", "SPY", "SQUAD", "SQUARE", "SQUID", "STAB", "STABLE", "STAFF", "STAGE", "STAIR", "STAKE", "STALL", "STAMP", "STANCE", "STAND", "STAR", "STARE", "STARK", "START", "STARVE", "STATE", "STATUE", "STATUS", "STAY", "STEADY", "STEAL", "STEAM", "STEEL", "STEEP", "STEER", "STEM", "STEP", "STICK", "STICKY", "STIFF", "STILL", "STIR", "STOCK", "STONE", "STOP", "STORE", "STORM", "STORY", "STRAIN", "STRAND", "STREAM", "STREET", "STRESS", "STRICT", "STRIKE", "STRING", "STRIP", "STRIVE", "STROKE", "STRONG", "STUDIO", "STUDY", "STUFF", "STUN", "STUPID", "STYLE", "SUBMIT", "SUBTLE", "SUBURB", "SUCH", "SUCK", "SUDDEN", "SUE", "SUFFER", "SUGAR", "SUIT", "SUITE", "SUM", "SUMMER", "SUMMIT", "SUN", "SUNDAY", "SUPER", "SUPERB", "SUPPLY", "SURE", "SURELY", "SURGE", "SURVEY", "SWAN", "SWEAR", "SWEDEN", "SWEEP", "SWEET", "SWIM", "SWING", "SWITCH", "SWORD", "SYMBOL", "SYSTEM", "TABLE", "TABLET", "TACKLE", "TACTIC", "TAG", "TAIL", "TAKE", "TALE", "TALENT", "TALK", "TALL", "TANK", "TAP", "TAPE", "TARGET", "TASK", "TASTE", "TAX", "TAXI", "TEA", "TEACH", "TEAK", "TEAM", "TEAR", "TEENS", "TELL", "TEMPLE", "TEMPT", "TEN", "TENANT", "TEND", "TENDER", "TENNIS", "TENT", "TENURE", "TERM", "TERMS", "TERROR", "TEST", "TEXT", "THAN", "THANK", "THANKS", "THAT", "THE", "THEFT", "THEIR", "THEIRS", "THEM", "THEME", "THEN", "THEORY", "THERE", "THESIS", "THEY", "THICK", "THIEF", "THIN", "THING", "THINK", "THIRD", "THIRTY", "THIS", "THOUGH", "THREAD", "THREAT", "THREE", "THRIVE", "THROAT", "THROW", "THUMB", "THUS", "THYME", "TICK", "TICKET", "TIDE", "TIDY", "TIE", "TIGER", "TIGHT", "TILL", "TIMBER", "TIME", "TIMELY", "TIMING", "TIN", "TINY", "TIP", "TIRED", "TISSUE", "TITLE", "TODAY", "TOE", "TOILET", "TOKYO", "TOLL", "TOMATO", "TON", "TONE", "TONGUE", "TONNE", "TOO", "TOOL", "TOOTH", "TOP", "TOPIC", "TOSS", "TOTAL", "TOUCH", "TOUGH", "TOUR", "TOWEL", "TOWER", "TOWN", "TOXIC", "TOY", "TRACE", "TRACK", "TRADE", "TRAGIC", "TRAIL", "TRAIN", "TRAIT", "TRAP", "TRAUMA", "TRAVEL", "TREAT", "TREATY", "TREE", "TREND", "TRIAL", "TRIBAL", "TRIBE", "TRICK", "TRIO", "TRIP", "TROOP", "TROPHY", "TRUCK", "TRUE", "TRULY", "TRUST", "TRUTH", "TRY", "TSHIRT", "TUBE", "TULIP", "TUNA", "TUNE", "TUNNEL", "TURKEY", "TURN", "TURNIP", "TURTLE", "TWEET", "TWELVE", "TWENTY", "TWICE", "TWIN", "TWIST", "TWO", "TYPE", "TYRE", "UGLY", "UNABLE", "UNCLE", "UNDER", "UNFAIR", "UNFOLD", "UNIFY", "UNION", "UNIQUE", "UNIT", "UNITE", "UNITED", "UNITY", "UNLESS", "UNLIKE", "UNTIL", "UNVEIL", "UPDATE", "UPHOLD", "UPON", "UPPER", "UPSET", "URBAN", "URGE", "URGENT", "USA", "USAGE", "USE", "USED", "USEFUL", "USER", "USUAL", "VACUUM", "VAGUE", "VALID", "VALLEY", "VALUE", "VAN", "VANISH", "VARIED", "VARY", "VAST", "VEIN", "VENUE", "VERBAL", "VERIFY", "VERSE", "VERSUS", "VERY", "VESSEL", "VIA", "VIABLE", "VICE", "VICTIM", "VIDEO", "VIENNA", "VIEW", "VIEWER", "VIOLET", "VIRTUE", "VIRUS", "VISA", "VISION", "VISIT", "VISUAL", "VITAL", "VOCAL", "VOICE", "VOLUME", "VOTE", "VOTING", "VOW", "VROOM", "WAGE", "WAIT", "WAITER", "WAKE", "WALK", "WALL", "WALNUT", "WANDER", "WANT", "WAR", "WARD", "WARM", "WARN", "WASH", "WASTE", "WATCH", "WATER", "WAVE", "WAY", "WEAK", "WEAKEN", "WEALTH", "WEAPON", "WEAR", "WEAVE", "WEB", "WEED", "WEEK", "WEEKLY", "WEIGH", "WEIGHT", "WEIRD", "WELL", "WEST", "WET", "WHALE", "WHAT", "WHEAT", "WHEEL", "WHEN", "WHERE", "WHICH", "WHILE", "WHILST", "WHIP", "WHITE", "WHO", "WHOLE", "WHOLLY", "WHOM", "WHOSE", "WHY", "WIDE", "WIDELY", "WIDEN", "WIDOW", "WIDTH", "WIFE", "WILD", "WILL", "WIN", "WIND", "WINDOW", "WINE", "WING", "WINNER", "WINTER", "WIPE", "WIRE", "WISDOM", "WISE", "WISH", "WIT", "WITH", "WITHIN", "WOLF", "WOMAN", "WONDER", "WOOD", "WOODEN", "WOOF", "WOOL", "WORD", "WORK", "WORKER", "WORLD", "WORM", "WORRY", "WORSE", "WORST", "WORTH", "WORTHY", "WOULD", "WOUND", "WOW", "WRAP", "WRIST", "WRITE", "WRITER", "WRONG", "YAHOO", "YARD", "YAY", "YEAH", "YEAR", "YELL", "YELLOW", "YES", "YET", "YIELD", "YOU", "YOUNG", "YOUR", "YOURS", "YOUTH", "ZAP", "ZEBRA", "ZERO", "ZIP", "ZONE", "ZOOM", "ZZZ"];
  
    // === 유틸 ===
    const uniq = arr => Array.from(new Set(arr));
    const normalizeWords = arr => (arr||[]).map(w=>String(w).toUpperCase().replace(/[^A-Z]/g,'')).filter(Boolean);
    const buildDict = len => uniq(normalizeWords(WORDPOOL)).filter(w=>w.length===len);
    const setMaxTries = len => len===3?9:len===4?11:len===5?13:15;

    // === 요소 ===
    const newGameBtn = document.getElementById('newGame');
    const revealBtn = document.getElementById('reveal');
    const logEl = document.getElementById('log');
    const statusEl = document.getElementById('status');
    const backspaceBtn = document.getElementById('backspace');
    const enterKeyBtn = document.getElementById('enterKey');
    const lengthButtons = document.querySelectorAll('.length-btn');

    // === 키보드: 있다/없다만 ===
    const kbEl = document.getElementById('kb');
    const ALPHABETS = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
    const keyStates = new Map(); // 'A' -> 'idle' | 'hit' | 'out'

    // === 현재 입력 상태 ===
    let currentInput = "";

    function renderAlphabetKeyboard(){
      kbEl.innerHTML = "";
      ALPHABETS.forEach(ch=>{
        const div = document.createElement("div");
        div.className = "key " + (keyStates.get(ch) || "idle");
        div.textContent = ch;
        div.addEventListener('click', ()=> addLetter(ch));
        kbEl.appendChild(div);
      });
    }

    function renderCurrentInputRow(){
      const inputRow = document.createElement('div');
      inputRow.className = 'current-input-row';
      inputRow.id = 'currentInputRow';
      
      const wordSpan = document.createElement('span');
      wordSpan.className = 'current-input-word';
      
      if(currentInput.length === 0){
        wordSpan.textContent = '단어를 입력하세요...';
        wordSpan.classList.add('input-placeholder');
      } else {
        wordSpan.textContent = currentInput;
        wordSpan.classList.remove('input-placeholder');
      }
      
      inputRow.appendChild(wordSpan);
      return inputRow;
    }

    function updateCurrentInputDisplay(){
      const existingRow = document.getElementById('currentInputRow');
      if(existingRow){
        const wordSpan = existingRow.querySelector('.current-input-word');
        if(currentInput.length === 0){
          wordSpan.textContent = '단어를 입력하세요...';
          wordSpan.classList.add('input-placeholder');
        } else {
          wordSpan.textContent = currentInput;
          wordSpan.classList.remove('input-placeholder');
        }
      }
    }

    function addLetter(letter){
      if(gameOver) return;
      if(currentInput.length < length){
        currentInput += letter;
        updateCurrentInputDisplay();
      }
    }

    function removeLetter(){
      if(gameOver) return;
      if(currentInput.length > 0){
        currentInput = currentInput.slice(0, -1);
        updateCurrentInputDisplay();
      }
    }

    function updateKeyStateFromGuess(g){
      const secretSet = new Set(secret.toUpperCase().split(""));
      const used = new Set(g.toUpperCase().split(""));
      used.forEach(ch=>{
        if(!/[A-Z]/.test(ch)) return;
        const prev = keyStates.get(ch) || "idle";
        const now = secretSet.has(ch) ? "hit" : "out";
        // 'hit' 우선 유지
        keyStates.set(ch, prev === "hit" ? "hit" : now);
      });
      renderAlphabetKeyboard();
    }

    // === 게임 상태 ===
    let secret = "";
    let tries = 0;
    let maxTries = 0;
    let length = 4;
    let dict = [];
    let gameOver = true;
    let usedGuesses = new Set();

    function setStatus(msg, cls=''){ statusEl.textContent = msg; statusEl.className = `status ${cls}`; }
    function toggleInput(active){ 
      enterKeyBtn.style.opacity = active ? '1' : '0.5';
      if(!active){
        // 게임 종료시 현재 입력란 제거
        const existingRow = document.getElementById('currentInputRow');
        if(existingRow) existingRow.remove();
      }
    }
    function pickSecret(){
      // 중복 허용으로 모든 단어 사용
      return dict[Math.floor(Math.random()*dict.length)];
    }

    function startGame(){
      dict = buildDict(length);
      if (dict.length === 0){
        setStatus('워드풀에 해당 길이 단어가 없습니다.','err');
        toggleInput(false);
        return;
      }
      maxTries = setMaxTries(length);
      tries = 0;
      secret = pickSecret();
      usedGuesses.clear();
      logEl.innerHTML = '';
      currentInput = "";
      gameOver = false;
      
      // 첫 번째 입력 행 추가
      const inputRow = renderCurrentInputRow();
      logEl.appendChild(inputRow);
      
      toggleInput(true);
      setStatus('비밀 단어를 추측해서 입력하세요.','ok');

      // 키보드 초기화
      keyStates.clear();
      ALPHABETS.forEach(ch=>keyStates.set(ch,'idle'));
      renderAlphabetKeyboard();
    }

    // === 자리별 S/B/O 계산 (문자열만 쓸 것) ===
    function perLetterSBO(secret, guess){
      const n = secret.length;
      const s = secret.toUpperCase().split("");
      const g = guess.toUpperCase().split("");
      const marks = Array(n).fill('O'); // 기본 O

      // 1) S 먼저
      const remainS = {};
      for(let i=0;i<n;i++){
        if(g[i]===s[i]){
          marks[i] = 'S';
        }else{
          remainS[s[i]] = (remainS[s[i]]||0)+1;
        }
      }
      // 2) B
      for(let i=0;i<n;i++){
        if(marks[i]==='S') continue;
        const ch = g[i];
        if(remainS[ch]>0){
          marks[i] = 'B';
          remainS[ch]--;
        }
      }
      return marks; // 예: ['S','O','B','B']
    }

    function appendLog(word, marks){
      // 현재 입력 행을 결과로 변환
      const existingRow = document.getElementById('currentInputRow');
      if(existingRow){
        existingRow.id = ''; // ID 제거
        existingRow.className = 'try'; // 클래스 변경
        existingRow.innerHTML = ''; // 내용 초기화
        
        const wordSpan = document.createElement('span');
        wordSpan.style.fontWeight = '900';
        wordSpan.style.letterSpacing = '1px';
        wordSpan.textContent = word;
        
        const resultSpan = document.createElement('span');
        resultSpan.style.opacity = '.9';
        resultSpan.textContent = marks.join('');
        
        existingRow.appendChild(wordSpan);
        existingRow.appendChild(resultSpan);
      }
    }

    function submitGuess(){
      if(gameOver) return;
      const g = currentInput.toUpperCase().replace(/[^A-Z]/g,'');
      if(g.length !== length){ setStatus(`${length}글자를 입력하세요.`,'warn'); return; }
      if(!dict.includes(g)){ setStatus('워드풀에 없는 단어입니다.','err'); return; }
      if(usedGuesses.has(g)){ setStatus('이미 시도한 단어입니다.','warn'); return; }

      usedGuesses.add(g);
      tries++;

      const marks = perLetterSBO(secret, g);
      appendLog(g, marks);
      updateKeyStateFromGuess(g); // 있다/없다만 표시

      if(marks.every(m=>m==='S')){
        setStatus(`정답! ${secret}`,'ok');
        gameOver = true;
        toggleInput(false);
        return;
      }
      if(tries >= maxTries){
        setStatus(`실패! 정답은 ${secret}`,'err');
        gameOver = true;
        toggleInput(false);
        return;
      }
      
      // 게임이 계속되면 새로운 입력 행 추가
      setStatus('계속 시도하세요.');
      currentInput = "";
      const newInputRow = renderCurrentInputRow();
      logEl.appendChild(newInputRow);
    }

    function onSubmit(){
      submitGuess();
    }

    // === 글자수 버튼 이벤트 ===
    lengthButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        // 모든 버튼에서 active 클래스 제거
        lengthButtons.forEach(b => b.classList.remove('active'));
        // 클릭된 버튼에 active 클래스 추가
        btn.classList.add('active');
        // 길이 설정
        length = parseInt(btn.dataset.length, 10);
        setStatus('글자수를 선택했습니다. [새 게임]을 누르세요.','warn');
      });
    });

    // === 이벤트 ===
    newGameBtn.addEventListener('click', startGame);
    revealBtn.addEventListener('click', ()=>{
      if(secret){
        setStatus(`정답은 ${secret}`,'ok');
        gameOver = true;
        toggleInput(false);
      }
    });

    // 새로운 키보드 이벤트
    backspaceBtn.addEventListener('click', removeLetter);
    enterKeyBtn.addEventListener('click', submitGuess);

    // 초기
    toggleInput(false);
    setStatus('글자수를 선택하고 [새 게임]을 누르세요.','warn');
    renderAlphabetKeyboard();
  </script>

</body>
</html>
