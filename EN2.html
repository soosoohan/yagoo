<!DOCTYPE html>
<html lang="ko">
<head>
<!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4YZHC1G9FN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-4YZHC1G9FN');
    </script>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ê³ ì „ì˜ì–´ì•¼êµ¬</title>
  <style>
    body { font-family: Arial, sans-serif; background: #0f172a; color: #e5e7eb; display: flex; justify-content: center; padding: 20px; font-size:20px;}
    .app { max-width: 600px; width: 100%; background: #111827; padding: 20px; border-radius: 10px; }
    h1 { margin-top: 0; font-size:30px;}
    select, input, button { padding: 8px; margin: 4px; border-radius: 5px; border: none;  font-size:20px;}
    button { cursor: pointer; font-size:20px;}
    .card { background: #1f2937; padding: 10px; border-radius: 8px; margin-bottom: 10px;font-size:20px; }
    .log { max-height: 300px; overflow-y: auto; }
    .try { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px solid #374151; }
    .status.ok { color: #34d399; }
    .status.warn { color: #f59e0b; }
    .status.err { color: #f87171; }
label {font-size:20px;}
  /* === Alphabet Keyboard === */
.kb { margin-top:10px; display:grid; grid-template-columns: repeat(auto-fit, minmax(40px,1fr)); gap:8px; }
.key {
  padding:10px 8px; border-radius:8px; text-align:center; font-weight:700;
  background:#1a2430; color:#d0ddea; border:1px solid #374151; user-select:none;
}
.key.idle { background:#1a2430; color:#d0ddea; }
.key.hit  { background:#8fd3ff; color:#062033; border-color:transparent; }  /* í•˜ëŠ˜ìƒ‰ */
.key.out  { background:#fccad6; color:#3a0010; border-color:transparent; }  /* ë¶„í™ìƒ‰ */
.legend { display:flex; gap:8px; align-items:center; flex-wrap:wrap; font-size:16px; color:#94a3b8; }
.legend .swatch { display:inline-block; width:14px; height:14px; border-radius:4px; margin-right:6px; vertical-align:-2px; }

</style>
</head>
<body>
  <div class="app">
    <h1>ì˜ì–´ ì•¼êµ¬ <span style="color:#94a3b8">(Word Bulls & Cows)</span></h1>
    <div class="card">
      <strong>ê²Œì„ ê·œì¹™</strong>
      <ol style="font-size:calc(var(--fs) * 0.9); padding-left:20px;">
        <li>ì»´í“¨í„°ê°€ ì„ íƒí•œ ë¹„ë°€ ì˜ì–´ ë‹¨ì–´ë¥¼ ë§íˆëŠ” ê²Œì„ì…ë‹ˆë‹¤.</li>
        <li>ë‹¨ì–´ ê¸¸ì´ëŠ” 3, 4, 5ê¸€ì ì¤‘ì—ì„œ ì„ íƒí•©ë‹ˆë‹¤.</li>
        <li>ê¸€ì ì¤‘ë³µ í—ˆìš© ì—¬ë¶€ë¥¼ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
        <li>Bulls: ê¸€ìì™€ ìœ„ì¹˜ê°€ ëª¨ë‘ ë§ìŒ.</li>
        <li>Cows: ê¸€ìëŠ” ë§ì§€ë§Œ ìœ„ì¹˜ê°€ ë‹¤ë¦„.</li>
        <li>ì •ë‹µì„ ë§íˆê±°ë‚˜ ì‹œë„ íšŸìˆ˜ë¥¼ ëª¨ë‘ ì‚¬ìš©í•˜ë©´ ê²Œì„ì´ ì¢…ë£Œë©ë‹ˆë‹¤.</li>
      </ol>
    </div>
<div class="card">
      <label for="len">ë‹¨ì–´ ê¸¸ì´</label>
      <select id="len">
        <option value="3">3ê¸€ì</option>
        <option value="4" selected>4ê¸€ì</option>
        <option value="5">5ê¸€ì</option>
      </select>
      <label><input type="checkbox" id="allowRepeats" /> ê¸€ì ì¤‘ë³µ í—ˆìš©</label>
      <button id="newGame">ìƒˆ ê²Œì„</button>
    </div>
    <div class="card">
      <label for="guess">ì¶”ì¸¡ ì…ë ¥</label>
      <input id="guess" type="text" placeholder="ë‹¨ì–´ ì…ë ¥" />
      <button id="submit">ì…ë ¥</button>
      <div id="status" class="status"></div>
    </div>
    <div class="card">
      <div style="display:flex; justify-content:space-between;">
        <strong>ê¸°ë¡</strong>
        <button id="reveal">ì •ë‹µ ë³´ê¸°</button>
      </div>
      <div class="log" id="log"></div>
    </div>
<div class="card">
  <div class="legend" style="margin:8px 0 6px;">
    <span><span class="swatch" style="background:#1a2430;border:1px solid #374151;"></span>ë¯¸ì‹œë„</span>
    <span><span class="swatch" style="background:#8fd3ff;"></span>ìˆìŒ (Hit)</span>
    <span><span class="swatch" style="background:#fccad6;"></span>ì—†ìŒ (Out)</span>
  </div>
  <div id="kb" class="kb" aria-label="ì•ŒíŒŒë²³ í‚¤ë³´ë“œ(ìƒíƒœ í‘œì‹œ)"></div>
</div>


<button onclick="window.open('hints.html', '_blank')">ì›Œë“œí’€ ë³´ê¸°</button>


</div>
  <script>

// ì›Œë“œí’€ì„ ì½”ë“œ ì•ˆì— ì§ì ‘ ì •ì˜
   const WORDPOOL = [
      "ACT", "AGE", "AIM", "BAN", "BEE", "CAP", "CUT", "DUE", "FAR", "FRY", "FUR", "KEY", "LAY", "LIE", "LIP", "MAD", "MIX", "MUD", "NET", "NOR", "NOW", "ODD", "PAN", "PIN", "POT", "PRO", "ROW", "SET", "SEX", "SHY", "TAX", "TIN", "TIP", "TOE", "WIN", "AGED", "BAKE", "BASE", "BELL", "BEND", "BITE", "BOMB", "BURY", "CALM", "CLUE", "COAL", "COIN", "COOL", "DEAL", "DEEP", "DIRT", "DROP", "DRUM", "DUST", "DUTY", "EDGE", "FACE", "FEAR", "FILE", "FIRE", "FLAG", "FLOW", "FOLD", "FOLK", "FUEL", "GLAD", "HAND", "HANG", "HATE", "HEAD", "HIRE", "HOST", "HUNT", "IRON", "KEEN", "KICK", "KIND", "KISS", "LACK", "LEAD", "LEAF", "LIKE", "LIVE", "LOSS", "MALL", "MESS", "MILD", "MINE", "MOOD", "MOVE", "NAIL", "NEED", "NEXT", "NOTE", "ONCE", "OURS", "PACK", "PALE", "PASS", "PATH", "PIPE", "PLOT", "PLUS", "POEM", "POET", "PORT", "POUR", "PRAY", "PULL", "PUSH", "QUIT", "RARE", "RENT", "RISE", "RISK", "ROLL", "ROPE", "RULE", "SAIL", "SAND", "SCAN", "SEED", "SINK", "SLOW", "SOIL", "SORT", "SPOT", "SUIT", "SWIM", "TAIL", "TAPE", "TEND", "TENT", "THAT", "THIS", "TILL", "TINY", "TOUR", "TUBE", "TYPE", "TYRE", "UGLY", "UPON", "USED", "VIEW", "VOTE", "WARM", "WARN", "WAVE", "WILL", "WING", "WOOL", "YARD", "ADMIT", "AGENT", "AHEAD", "ALARM", "ALBUM", "ANNOY", "APART", "AWARD", "AWARE", "BASIC", "BASIS", "BLOCK", "BOARD", "BRAND", "BRAVE", "BRIDE", "CHAIN", "CHEAP", "CHEAT", "CHEST", "CLAIM", "CLEAR", "CLICK", "CLIMB", "CLOSE", "CLOTH", "COACH", "COUNT", "COURT", "COVER", "CREAM", "CRUEL", "DAILY", "DOUBT", "DRUNK", "EMPTY", "ENEMY", "ENTRY", "EQUAL", "EXTRA", "FANCY", "FENCE", "FIXED", "FLOOD", "FLOUR", "FORCE", "FRAME", "GHOST", "GIANT", "GLOVE", "GOODS", "GRADE", "GRAIN", "GUARD", "HURRY", "ISSUE", "JUDGE", "KNOCK", "LABEL", "LAYER", "LEGAL", "LEVEL", "LIMIT", "LOCAL", "MAGIC", "MODAL", "OCCUR", "OUGHT", "PLACE", "POINT", "PRESS", "PROUD", "PROVE", "QUEUE", "QUOTE", "RANGE", "ROBOT", "ROUGH", "ROYAL", "RUGBY", "SHAKE", "SHARE", "SHARP", "SHELF", "SHELL", "SHIFT", "SHINE", "SHINY", "SHOOT", "SIGHT", "SILLY", "SINCE", "SLICE", "SMART", "SOLID", "SPICY", "STAFF", "STATE", "STICK", "STILL", "STORE", "STUFF", "THEME", "TIGHT", "TOTAL", "TOUCH", "TRADE", "TREAT", "TREND", "TRICK", "TRUTH", "UNION", "UPSET", "VALUE", "WASTE", "WATER", "WEIGH", "WHILE", "WHOLE", "WORRY", "WORSE", "WORST", "WORTH", "WRONG", "YOUNG", "YOUTH", "ACT", "AGE", "AIM", "BAN", "BEE", "CAP", "CUT", "DUE", "FAR", "FRY", "FUR", "KEY", "LAY", "LIE", "LIP", "MAD", "MIX", "MUD", "NET", "NOR", "NOW", "SUM", "TAG", "TAP", "TON", "TRY", "VIA", "WAY", "YET", "ACID", "AIDS", "ARMS", "BACK", "BEAR", "BEAT", "BENT", "BIAS", "BILL", "BLOW", "BOLD", "BOND", "BURN", "BUSH", "CAST", "CAVE", "CELL", "CHOP", "CITE", "CLIP", "COPE", "CORE", "CREW", "CROP", "CURE", "CUTE", "DARE", "DATE", "DEBT", "DECK", "DENY", "DISC", "DISK", "DIVE", "DRAG", "DULL", "DUMP", "EDIT", "EVEN", "EVIL", "EXIT", "FAKE", "FAME", "FARE", "FEED", "FEEL", "FILE", "FIRM", "FOLD", "FOND", "FOOL", "FREE", "FUEL", "FUND", "GAIN", "GANG", "GENE", "GRAB", "HARM", "HEAL", "HEEL", "HELL", "HERB", "HIGH", "HIRE", "HOLD", "HOLY", "HOOK", "HOST", "HUNT", "HURT", "ICON", "INCH", "INFO", "JAIL", "JURY", "LANE", "LEAN", "LENS", "LINE", "LOAD", "LOAN", "LOGO", "LORD", "LUNG", "MAKE", "MASS", "MATE", "MELT", "MODE", "MYTH", "NEAT", "NORM", "OBEY", "PACE", "PALM", "PEER", "PICK", "PILE", "PILL", "PITY", "PLOT", "PLUS", "POSE", "PUNK", "PURE", "RAIL", "RANK", "RATE", "RELY", "ROOT", "ROSE", "RUIN", "RUSH", "SEAT", "SEEK", "SELF", "SEXY", "SHIP", "SHOT", "SILK", "SLIP", "SOUL", "SPOT", "STEP", "TALE", "TANK", "TEAR", "TERM", "THUS", "TIME", "TONE", "TRAP", "TRIP", "TUNE", "URGE", "VARY", "VAST", "VERY", "VISA", "WAGE", "WHOM", "WIND", "WIRE", "WISE", "WORM", "WRAP", "ZONE", "ADAPT", "ADOPT", "ALARM", "ALIEN", "ALTER", "ANGER", "ANGLE", "ARISE", "ARMED", "ARROW", "ASIDE", "ASSET", "AUDIO", "BADGE", "BEING", "BLAME", "BLIND", "BOOST", "BOUND", "BRICK", "BRIEF", "BROAD", "BUNCH", "CABIN", "CABLE", "CANAL", "CATCH", "CHAIN", "CHAIR", "CHART", "CHASE", "CHEEK", "CHEER", "CHIEF", "CHOIR", "CIVIL", "CLERK", "CLIFF", "CLOSE", "COMIC", "CRACK", "CRAFT", "CRASH", "CURVE", "DAIRY", "DELAY", "DEPTH", "DOZEN", "DRAFT", "ELBOW", "ELECT", "EQUAL", "EQUIP", "ERUPT", "ETHIC", "FAITH", "FAULT", "FEVER", "FLAME", "FLASH", "FLOAT", "FORUM", "FOUND", "FRAUD", "FULLY", "GENRE", "GLOBE", "GRADE", "GRAND", "GRANT", "HENCE", "HOUSE", "IDEAL", "IMPLY", "INDEX", "INFER", "INNER", "INPUT", "ISSUE", "JOINT", "LEAVE", "LEVEL", "LITRE", "LOOSE", "LOWER", "LOYAL", "LYRIC", "MAYOR", "MEANS", "MEDAL", "MINER", "MINOR", "MIXED", "MODEL", "MORAL", "MOTOR", "MOUNT", "NAKED", "NASTY", "NERVE", "NEWLY", "OPERA", "ORGAN", "OUTER", "PANEL", "PANIC", "PAUSE", "PHASE", "PITCH", "PLAIN", "POWER", "PRICE", "PRIDE", "PRIME", "PRINT", "PRIOR", "PROOF", "PUPIL", "RANGE", "RAPID", "REACH", "RISKY", "RIVAL", "ROUND", "RURAL", "SCALE", "SCARE", "SENSE", "SHADE", "SHAME", "SHAPE", "SHIFT", "SHOCK", "SHORE", "SKULL", "SLAVE", "SLIDE", "SLOPE", "SOLAR", "SPARE", "SPEED", "SPICE", "SPILL", "SPITE", "SPLIT", "SPOIL", "STAGE", "STALL", "STAND", "STARE", "STEAM", "STEEL", "STEEP", "STIFF", "STOCK", "STUFF", "SUPER", "SWEAR", "SWEEP", "TEENS", "TERMS", "THEFT", "THUMB", "TITLE", "TONNE", "TOUGH", "TRACE", "TRACK", "TRAIT", "TRIAL", "TRIBE", "TROOP", "TRULY", "TRUST", "UNITE", "UNITY", "UPPER", "URBAN", "USAGE", "VALID", "VALUE", "VENUE", "VITAL", "WEIRD", "WHEAT", "WORSE", "WORST", "WORTH", "WOUND", "WRIST", "WRONG", "ARM", "ASH", "BAT", "BAY", "BOW", "COP", "DAM", "DIP", "DUB", "DUO", "EGO", "FIT", "GUT", "LAD", "LAP", "LOG", "MOB", "NET", "NOD", "OPT", "PAD", "PIT", "POP", "RAY", "RIP", "ROD", "SAY", "SIN", "SPY", "SUE", "TOP", "VOW", "WIT", "ACID", "ACRE", "AIDE", "ALLY", "AMID", "AUTO", "BAIL", "BARE", "BASS", "BEAM", "BIND", "BOOM", "BUCK", "BULK", "COUP", "CULT", "DAWN", "DEED", "DEEM", "DEFY", "DOSE", "DUAL", "DUMB", "EASE", "ECHO", "EXIT", "FADE", "FATE", "FEAT", "FINE", "FLAW", "FLEE", "GAZE", "GEAR", "GRID", "GRIN", "GRIP", "HAIL", "HALT", "HINT", "HOOK", "HORN", "JUST", "LAWN", "LEAK", "LEAP", "LIMB", "LOOM", "LOOP", "MASK", "MEMO", "MERE", "MILL", "MONK", "NEST", "NOON", "ODDS", "ORAL", "PEAK", "PLEA", "PLUG", "POLE", "POLL", "POND", "PREY", "PUMP", "RAGE", "RAID", "RAPE", "REAR", "RIOT", "ROCK", "SACK", "SAKE", "SEAL", "SHED", "SIGH", "SKIP", "SLAM", "SLAP", "SLOT", "SNAP", "SOAK", "SOAR", "SOLE", "SOLO", "SPAM", "SPAN", "SPIN", "STAB", "STEM", "STIR", "STUN", "SUCK", "TIDE", "TOLL", "TOSS", "TRIO", "VEIN", "VICE", "WARD", "WEED", "WELL", "WHIP", "WIPE", "YELL", "ABUSE", "ACUTE", "ALERT", "ALIEN", "ALIGN", "ALIKE", "AMEND", "ANGEL", "ARENA", "ARRAY", "AUDIT", "AWAIT", "BEAST", "BENCH", "BLADE", "BLAST", "BLEED", "BLEND", "BLESS", "BOAST", "BONUS", "BREED", "BUDDY", "BURST", "CARGO", "CARVE", "CATER", "CEASE", "CHAOS", "CHARM", "CHUNK", "CIVIC", "CLASH", "CLING", "CRAFT", "CRAWL", "CREEP", "CROWN", "CRUDE", "CRUSH", "DEBUT", "DEMON", "DENSE", "DEVIL", "DONOR", "DRAIN", "DRIFT", "DROWN", "EAGER", "ELITE", "EMBED", "ENACT", "ENROL", "ENSUE", "ERECT", "EVOKE", "EXERT", "EXILE", "FATAL", "FIBRE", "FLEET", "FLESH", "FLUID", "FORGE", "FORTH", "GLORY", "GRACE", "GRASP", "GRAVE", "GRIEF", "GRIND", "GROSS", "GUILT", "HANDY", "HARSH", "HAUNT", "IDIOT", "INCUR", "IRONY", "LASER", "LIVER", "LOBBY", "LOGIC", "MARCH", "MERCY", "MERGE", "MERIT", "MIDST", "NAVAL", "NICHE", "NOBLE", "NOVEL", "PATCH", "PLEAD", "PROBE", "PULSE", "PUNCH", "QUERY", "QUEST", "QUOTA", "RADAR", "RALLY", "RATIO", "REALM", "REBEL", "REIGN", "RENEW", "RIFLE", "SAINT", "SCOPE", "SCREW", "SEIZE", "SETUP", "SHEER", "SHOOT", "SHRUG", "SLASH", "SMASH", "SOUND", "SPARE", "SPARK", "SPELL", "SPINE", "SQUAD", "STAKE", "STARK", "STEER", "STRIP", "SUITE", "SURGE", "SWING", "SWORD", "TEMPT", "TOTAL", "TOXIC", "TRACE", "TRAIL", "TWIST", "UNIFY", "VAGUE", "VERSE", "VOCAL", "WEAVE", "WIDEN", "WIDOW", "WIDTH", "YIELD", "ADD", "AGE", "AGO", "AIR", "ALL", "AND", "ANY", "ARM", "ART", "ASK", "BAD", "BAG", "BED", "BIG", "BOX", "BOY", "BUS", "BUT", "BUY", "BYE", "CAN", "CAR", "CAT", "COW", "CUP", "CUT", "DAD", "DAY", "DIE", "DOG", "DVD", "EAR", "EAT", "EGG", "END", "EYE", "FAR", "FAT", "FEW", "FLY", "FOR", "FUN", "GET", "GYM", "HAT", "HER", "HEY", "HIM", "HIS", "HOT", "HOW", "ICE", "ITS", "JOB", "KEY", "LEG", "LET", "LIE", "LOT", "MAN", "MAP", "MAY", "MUM", "NEW", "NOT", "NOW", "OFF", "OLD", "ONE", "OUR", "OUT", "OWN", "PAY", "PEN", "PIG", "PUT", "RED", "RUN", "SAD", "SAY", "SEA", "SEE", "SHE", "SIT", "SIX", "SON", "SUN", "TEA", "TEN", "THE", "TOO", "TRY", "TWO", "USE", "WAY", "WHO", "WHY", "WIN", "YES", "YOU", "ACT", "ALL", "ANY", "APP", "BAR", "BIN", "BIT", "CAN", "CRY", "DRY", "FAN", "FAT", "FIT", "FIX", "FLU", "FLY", "FUN", "GAP", "GAS", "GOD", "GUN", "GUY", "HIS", "HIT", "ILL", "JAM", "KID", "LAB", "LAW", "LOW", "MAY", "NUT", "OIL", "OWN", "PAY", "PER", "PET", "POP", "PUB", "RUN", "SIR", "SKI", "SKY", "TIE", "TIP", "TOP", "TOY", "USE", "VAN", "WAR", "WEB", "WET", "WOW", "YET", "ABOUT", "ABOVE", "ACTOR", "ADULT", "AFTER", "AGAIN", "AGREE", "ANGRY", "APPLE", "APRIL", "BEACH", "BEGIN", "BELOW", "BLACK", "BORED", "BREAD", "BREAK", "BRING", "BROWN", "BUILD", "CARRY", "CHAIR", "CHART", "CHEAP", "CHECK", "CHILD", "CLASS", "CLEAN", "CLIMB", "CLOCK", "CLOSE", "COULD", "CREAM", "DANCE", "DIRTY", "DRESS", "DRINK", "DRIVE", "EARLY", "EIGHT", "EMAIL", "ENJOY", "EVENT", "EVERY", "EXTRA", "FALSE", "FIFTH", "FIFTY", "FINAL", "FIRST", "FLOOR", "FORTY", "FRONT", "FRUIT", "FUNNY", "GLASS", "GREAT", "GREEN", "GROUP", "GUESS", "HAPPY", "HELLO", "HOBBY", "HORSE", "HOTEL", "HOUSE", "JEANS", "JUICE", "LARGE", "LATER", "LAUGH", "LEARN", "LEAVE", "LIGHT", "LOCAL", "LUNCH", "MARCH", "MATCH", "MAYBE", "METRE", "MODEL", "MONEY", "MONTH", "MOUSE", "MOUTH", "MOVIE", "MUSIC", "NEVER", "NIGHT", "NORTH", "NURSE", "OFTEN", "ONION", "ORDER", "OTHER", "PAINT", "PAPER", "PARTY", "PHONE", "PHOTO", "PIANO", "PIECE", "PLACE", "PLANE", "PLANT", "POINT", "POUND", "PRICE", "QUICK", "QUIET", "QUITE", "RADIO", "READY", "RELAX", "RIGHT", "RIVER", "SALAD", "SEVEN", "SHARE", "SHEEP", "SHIRT", "SHORT", "SIXTY", "SKILL", "SKIRT", "SLEEP", "SMALL", "SNAKE", "SORRY", "SOUND", "SOUTH", "SPACE", "SPEAK", "SPELL", "SPEND", "SPORT", "STAND", "START", "STILL", "STORY", "STUDY", "STYLE", "SUGAR", "TABLE", "TEACH", "THANK", "THEIR", "THERE", "THING", "THINK", "THIRD", "THREE", "TIRED", "TITLE", "TODAY", "TOOTH", "TOPIC", "TRAIN", "TWICE", "UNCLE", "UNDER", "UNTIL", "VIDEO", "VISIT", "WATCH", "WATER", "WHERE", "WHICH", "WHITE", "WOMAN", "WORLD", "WOULD", "WRITE", "WRONG", "YOUNG", "ADULT", "AFTER", "ALIVE", "ALLOW", "ALONE", "ALONG", "AMONG", "ANKLE", "APPLY", "ARGUE", "AVOID", "AWARD", "AWFUL", "BADLY", "BASED", "BIRTH", "BLANK", "BLOOD", "BOARD", "BRAIN", "BRUSH", "CATCH", "CAUSE", "CHECK", "CLEAR", "CLOSE", "CLOUD", "COACH", "COAST", "COUNT", "COVER", "CRAZY", "CRIME", "CROSS", "CROWD", "CURLY", "CYCLE", "DAILY", "DEATH", "DIARY", "DRAMA", "DREAM", "DRIVE", "EARTH", "EMPTY", "ENTER", "ERROR", "ESSAY", "EXACT", "EXIST", "FIELD", "FIGHT", "FINAL", "FIRST", "FOCUS", "FRESH", "GRASS", "GREET", "GUEST", "GUIDE", "HABIT", "HEART", "HEAVY", "HUMAN", "IDEAL", "IMAGE", "KNIFE", "KNOCK", "LATER", "LEAST", "LEMON", "LEVEL", "LIGHT", "LORRY", "LUCKY", "MAJOR", "MARRY", "MATHS", "MEDIA", "METAL", "MIGHT", "NOISE", "NOISY", "NOVEL", "OCEAN", "OFFER", "OWNER", "PANTS", "PEACE", "PENNY", "PILOT", "PLANT", "PLATE", "POWER", "PRINT", "PRIZE", "QUEEN", "RAISE", "REACH", "REACT", "REFER", "REPLY", "RIGHT", "ROUND", "ROUTE", "SADLY", "SAUCE", "SCARY", "SCENE", "SCORE", "SENSE", "SERVE", "SHAKE", "SHALL", "SHAPE", "SHEET", "SHOUT", "SINCE", "SLEEP", "SMELL", "SMILE", "SMOKE", "SOLVE", "SPEED", "SPOON", "STAGE", "STAIR", "STAMP", "START", "STATE", "STEAL", "STONE", "STORE", "STORM", "SWEET", "TASTE", "THICK", "THIEF", "THIRD", "THROW", "TOUCH", "TOWEL", "TOWER", "TRACK", "TRAIN", "TRUCK", "USUAL", "VIRUS", "VOICE", "WHEEL", "WHILE", "WHOLE", "WHOSE", "WORRY", "WORSE", "WORST", "YOURS", "ALSO", "AREA", "AUNT", "AWAY", "BABY", "BACK", "BALL", "BAND", "BANK", "BATH", "BEER", "BEST", "BIKE", "BILL", "BIRD", "BLOG", "BLUE", "BOAT", "BODY", "BOOK", "BOOT", "BORN", "BOTH", "BUSY", "CAFE", "CAKE", "CALL", "CARD", "CENT", "CITY", "CLUB", "COAT", "COLD", "COME", "COOK", "COOL", "COST", "DARK", "DATE", "DEAR", "DESK", "DIET", "DISH", "DOOR", "DOWN", "DRAW", "EACH", "EAST", "EASY", "ELSE", "EURO", "EVEN", "EVER", "EXAM", "FACE", "FACT", "FALL", "FARM", "FAST", "FEEL", "FILL", "FILM", "FIND", "FINE", "FIRE", "FISH", "FIVE", "FLAT", "FOOD", "FOOT", "FORM", "FOUR", "FREE", "FROM", "FULL", "GAME", "GIRL", "GIVE", "GOOD", "GREY", "GROW", "HAIR", "HALF", "HAND", "HARD", "HATE", "HAVE", "HEAD", "HEAR", "HELP", "HERE", "HIGH", "HOME", "HOPE", "HOUR", "IDEA", "INTO", "JOIN", "JULY", "JUNE", "JUST", "KEEP", "KIND", "KNOW", "LAND", "LAST", "LATE", "LEFT", "LIFE", "LIKE", "LINE", "LION", "LIST", "LIVE", "LONG", "LOOK", "LOSE", "LOVE", "MAIN", "MAKE", "MANY", "MEAL", "MEAN", "MEAT", "MEET", "MENU", "MILE", "MILK", "MISS", "MORE", "MOST", "MOVE", "MUCH", "MUST", "NAME", "NEAR", "NEED", "NEWS", "NEXT", "NICE", "NINE", "NOSE", "NOTE", "ONCE", "ONLY", "OPEN", "OVER", "PAGE", "PAIR", "PARK", "PART", "PAST", "PINK", "PLAN", "PLAY", "POOL", "POOR", "POST", "RAIN", "READ", "REAL", "RICE", "RICH", "RIDE", "ROAD", "ROOM", "RULE", "SALT", "SAME", "SELL", "SEND", "SHOE", "SHOP", "SHOW", "SICK", "SING", "SLOW", "SNOW", "SOME", "SONG", "SOON", "SOUP", "STAR", "STAY", "STOP", "SURE", "SWIM", "TAKE", "TALK", "TALL", "TAXI", "TEAM", "TELL", "TEST", "TEXT", "THAN", "THAT", "THEM", "THEN", "THEY", "THIS", "TIME", "TOWN", "TREE", "TRIP", "TRUE", "TURN", "TYPE", "VERY", "WAIT", "WAKE", "WALK", "WALL", "WANT", "WARM", "WASH", "WEAR", "WEEK", "WELL", "WEST", "WHAT", "WHEN", "WIFE", "WILL", "WINE", "WITH", "WORD", "WORK", "YEAH", "YEAR", "YOUR", "ABLE", "ARMY", "BACK", "BEAN", "BEAR", "BEAT", "BEEF", "BELT", "BEST", "BLOW", "BOIL", "BONE", "BOOK", "BOSS", "BOWL", "BURN", "CAMP", "CARE", "CASE", "CASH", "CENT", "CHAT", "CHEF", "CHIP", "CODE", "COOK", "COPY", "DARK", "DATA", "DEAD", "DEAL", "DEAR", "DEEP", "DROP", "DRUG", "EARN", "FAIL", "FAIR", "FALL", "FARM", "FEAR", "FEED", "FILM", "FISH", "FLAT", "FORK", "FREE", "FROG", "GATE", "GIFT", "GOAL", "GOLD", "GOLF", "GOOD", "HALF", "HALL", "HAVE", "HEAT", "HERO", "HERS", "HIDE", "HIGH", "HILL", "HOLD", "HOLE", "HOME", "HOPE", "HUGE", "HURT", "ITEM", "JAZZ", "JOKE", "JUMP", "KILL", "KING", "KNEE", "LADY", "LAKE", "LAMP", "LAND", "LAST", "LAZY", "LEAD", "LEND", "LESS", "LIFT", "LINK", "LOCK", "LOOK", "LOST", "LOUD", "LUCK", "MAIL", "MALE", "MARK", "MIND", "MINE", "MOON", "MORE", "NECK", "NEED", "NONE", "ONTO", "OVEN", "PACK", "PAIN", "PASS", "PAST", "PICK", "PULL", "PUSH", "RACE", "RATE", "REST", "RIDE", "RING", "RISE", "ROCK", "ROLE", "ROOF", "RUDE", "SAFE", "SAIL", "SALE", "SAVE", "SEAT", "SEEM", "SHIP", "SHUT", "SIDE", "SIGN", "SITE", "SIZE", "SKIN", "SOAP", "SOCK", "SOFT", "SORT", "STAR", "STAY", "STEP", "SUCH", "SUIT", "SURE", "TALK", "TASK", "TERM", "TEXT", "THIN", "TIDY", "TOOL", "TOUR", "TWIN", "UNIT", "USED", "USER", "VIEW", "WAIT", "WASH", "WAVE", "WEAK", "WIDE", "WILD", "WIND", "WISH", "WOOD", "ZERO"];
    

function normalizeWords(arr){
      return (arr||[]).map(w=>String(w).toUpperCase().replace(/[^A-Z]/g,'')).filter(Boolean);
    }

    function uniq(arr){ return Array.from(new Set(arr)); }

    function buildDict(len){
      return uniq(normalizeWords(WORDPOOL)).filter(w=>w.length===len);
    }

    function isIsogram(word){
      return new Set(word.split("")).size === word.length;
    }

    const lenSel = document.getElementById('len');
    const allowRepeats = document.getElementById('allowRepeats');
    const newGameBtn = document.getElementById('newGame');
    const submitBtn = document.getElementById('submit');
    const revealBtn = document.getElementById('reveal');
    const fsSel = document.getElementById('fs');
    const guessInput = document.getElementById('guess');
    const logEl = document.getElementById('log');
    const statusEl = document.getElementById('status');

// === Alphabet Keyboard ===
const kbEl = document.getElementById('kb');
const ALPHABETS = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
const keyStates = new Map(); // 'A' -> 'idle' | 'hit' | 'out'

function renderAlphabetKeyboard(){
  if(!kbEl) return;
  kbEl.innerHTML = "";
  ALPHABETS.forEach(ch=>{
    const div = document.createElement("div");
    div.className = "key " + (keyStates.get(ch) || "idle");
    div.textContent = ch;
    kbEl.appendChild(div);
  });
}

// ì‚¬ìš©ìê°€ ë°©ê¸ˆ ì…ë ¥í•œ ë‹¨ì–´ gë¥¼ ê¸°ì¤€ìœ¼ë¡œ ìƒíƒœ ê°±ì‹ 
function updateKeyStateFromGuess(g){
  const secretSet = new Set(secret.toUpperCase().split(""));
  const used = new Set(g.toUpperCase().split(""));
  used.forEach(ch=>{
    if(!/[A-Z]/.test(ch)) return;
    const prev = keyStates.get(ch) || "idle";
    const now = secretSet.has(ch) ? "hit" : "out";
    keyStates.set(ch, prev === "hit" ? "hit" : now); // hit ìš°ì„  ìœ ì§€
  });
  renderAlphabetKeyboard();
}

let secret = "";
    let tries = 0;
    let maxTries = 0;
    let length = 4;
    let dict = [];
    let gameOver = true;   // ğŸ”¹ ì²˜ìŒì—ëŠ” ê²Œì„ ì‹œì‘ ì „ ìƒíƒœ
    let usedGuesses = new Set();

    function setMaxTries(len){ return len===3?9:len===4?11:13; }

    function pickSecret(){
      const pool = allowRepeats.checked ? dict : dict.filter(isIsogram);
      return pool[Math.floor(Math.random()*pool.length)];
    }

    function setStatus(msg, cls=''){
      statusEl.textContent = msg;
      statusEl.className = `status ${cls}`;
    }

    function toggleInput(active){
      guessInput.disabled = !active;
      submitBtn.disabled = !active;
    }

function startGame(){
  // 1) ê¸°ë³¸ ì„¸íŒ…
  length = parseInt(lenSel.value,10);
  dict = buildDict(length);
  if (dict.length === 0){
    setStatus('ì›Œë“œí’€ì— í•´ë‹¹ ê¸¸ì´ ë‹¨ì–´ê°€ ì—†ìŠµë‹ˆë‹¤.','err');
    toggleInput(false);
    return;
  }
  maxTries = setMaxTries(length);
  tries = 0;
  secret = pickSecret();
  usedGuesses.clear();
  logEl.innerHTML = '';
  guessInput.value = '';

  // 2) ê²Œì„ ìƒíƒœ on + ì…ë ¥ í™œì„±í™”
  gameOver = false;
  toggleInput(true);

  // 3) ìƒíƒœ ë¬¸êµ¬ (ìš” ì¤„ì´ ê¼­ ìˆì–´ì•¼ í•¨!)
  setStatus('ë¹„ë°€ ë‹¨ì–´ë¥¼ ì¶”ì¸¡í•´ì„œ ì…ë ¥í•˜ì„¸ìš”.','ok');

  // 4) ì•ŒíŒŒë²³ í‚¤ë³´ë“œ ì´ˆê¸°í™” (í‚¤ë³´ë“œ ì¶”ê°€í–ˆë‹¤ë©´)
  if (typeof keyStates !== "undefined") {
    keyStates.clear();
    ALPHABETS.forEach(ch=>keyStates.set(ch,'idle'));
    renderAlphabetKeyboard();
  }

  // 5) ë””ë²„ê·¸ìš©(ì„ íƒ): ì½˜ì†”ì—ì„œ ìƒˆ ê²Œì„ í™•ì¸
  // console.log('[startGame] secret =', secret);
}

    function countBullsCows(secret, guess){
      let bulls = 0;
      for(let i=0;i<length;i++) if(secret[i]===guess[i]) bulls++;
      const sCount = {}, gCount = {};
      for(const ch of secret) sCount[ch] = (sCount[ch]||0)+1;
      for(const ch of guess) gCount[ch] = (gCount[ch]||0)+1;
      let overlap = 0;
      for(const ch in sCount) overlap += Math.min(sCount[ch], gCount[ch]||0);
      return {bulls, cows: overlap - bulls};
    }

    function appendLog(word, score){
      const div = document.createElement('div');
      div.className = 'try';
      div.innerHTML = `<span>${word}</span><span>Bulls ${score.bulls} Â· Cows ${score.cows}</span>`;
      logEl.prepend(div);
    }

    function onSubmit(){
      if(gameOver) return;  // ğŸ”¹ ê²Œì„ ëë‚˜ë©´ ë¬´ì‹œ

      const g = guessInput.value.toUpperCase().replace(/[^A-Z]/g,'').slice(0,length);
      if(g.length !== length){ setStatus(`${length}ê¸€ìë¥¼ ì…ë ¥í•˜ì„¸ìš”.`,'warn'); return; }
      if(!dict.includes(g)){ setStatus('ì›Œë“œí’€ì— ì—†ëŠ” ë‹¨ì–´ì…ë‹ˆë‹¤.','err'); return; }

      if(usedGuesses.has(g)){  // ğŸ”¹ ê°™ì€ ë‹¨ì–´ ì…ë ¥ ë°©ì§€
        setStatus('ì´ë¯¸ ì‹œë„í•œ ë‹¨ì–´ì…ë‹ˆë‹¤.','warn');
        return;
      }
      usedGuesses.add(g);

      tries++;
      const score = countBullsCows(secret, g);
      appendLog(g, score);

// â˜… ë°©ê¸ˆ ì‹œë„í•œ ê¸€ìë“¤ë¡œ í‚¤ë³´ë“œ ìƒ‰ ê°±ì‹ 
updateKeyStateFromGuess(g);

      if(score.bulls === length){
        setStatus(`ì •ë‹µ! ${secret}`,'ok');
        gameOver = true;
        toggleInput(false);
        return;
      }
      if(tries >= maxTries){
        setStatus(`ì‹¤íŒ¨! ì •ë‹µì€ ${secret}`,'err');
        gameOver = true;
        toggleInput(false);
        return;
      }
      setStatus('ê³„ì† ì‹œë„í•˜ì„¸ìš”.');
      guessInput.value = '';
    }

    newGameBtn.addEventListener('click', startGame);
    submitBtn.addEventListener('click', onSubmit);
    revealBtn.addEventListener('click', ()=>{
      if(secret){
        setStatus(`ì •ë‹µì€ ${secret}`,'ok');
        gameOver = true;
        toggleInput(false); // ğŸ”¹ ì •ë‹µ ê³µê°œ ì‹œ ì…ë ¥ ë§‰ê¸°
      }
    });
    guessInput.addEventListener('keydown', e=>{ if(e.key==='Enter') onSubmit(); });

    lenSel.addEventListener('change', ()=>setStatus('ë‹¨ì–´ ê¸¸ì´ì™€ ì¤‘ë³µ ì—¬ë¶€ë¥¼ ì •í•œ í›„ [ìƒˆ ê²Œì„]ì„ ëˆ„ë¥´ì„¸ìš”.','warn'));
    allowRepeats.addEventListener('change', ()=>setStatus('ë‹¨ì–´ ê¸¸ì´ì™€ ì¤‘ë³µ ì—¬ë¶€ë¥¼ ì •í•œ í›„ [ìƒˆ ê²Œì„]ì„ ëˆ„ë¥´ì„¸ìš”.','warn'));

    toggleInput(false); // ğŸ”¹ ì²˜ìŒì—ëŠ” ì…ë ¥ ë§‰ê¸°
    setStatus('ë‹¨ì–´ ê¸¸ì´ì™€ ì¤‘ë³µ ì—¬ë¶€ë¥¼ ì •í•˜ê³  [ìƒˆ ê²Œì„]ì„ ëˆ„ë¥´ì„¸ìš”.','warn');
</script>

</body>
</html>
