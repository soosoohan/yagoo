<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4YZHC1G9FN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-4YZHC1G9FN');
    </script>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
   <title>Number Baseball Easy - Number Guessing Game | Soosooland</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Easy number baseball! Per-position S/B/O hints make it beginner-friendly. Logic puzzle perfect for kids and beginners.">
    <meta name="keywords" content="number baseball, number guessing game, easy logic game, bulls and cows numbers, deduction game, kids puzzle, brain game">
    <meta name="author" content="Soosooland">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Soo Number Baseball Easy - Number Guessing Game">
    <meta property="og:description" content="Easy number baseball! Per-position S/B/O hints for beginners">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://soosooland.com/yagoo/NU1-en.html">
    <meta property="og:image" content="https://soosooland.com/images/yagoo.png">
    <meta property="og:site_name" content="Soosooland">

    <link rel="canonical" href="https://soosooland.com/yagoo/NU1-en.html">
    <link rel="alternate" hreflang="en" href="https://soosooland.com/yagoo/NU1-en.html">
    <link rel="alternate" hreflang="ko" href="https://soosooland.com/yagoo/NU1-ko.html">
    <link rel="stylesheet" href="https://soosooland.com/css/protection.css">
    <script src="https://soosooland.com/js/protection.js"></script>
 <style>
  :root { --bg:#0b1520; --card:#122233; --accent:#6ee7ff; --muted:#9db3c7; }
  * { box-sizing: border-box; }
  body { margin:0; font-family: system-ui, sans-serif; background: var(--bg); color:#eef6ff; display:flex; min-height:100vh; }
  .back-button {
    position: absolute;
    top: 20px;
    left: 20px;
    padding: 8px 10px; 
    font-size: 1.5em;
    font-weight: bold;
   background: #E6B800;
    color: #0f172a;
    border-radius: 12px;
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
    z-index: 100;
}
.back-button:hover {
    background-color: #B2924F;
    color: #0f172a;
}
  .wrap { margin:auto; width:min(720px, 100%); padding:24px; }
  .card { background:var(--card); border:1px solid rgba(255,255,255,.08); border-radius:20px; padding:22px; box-shadow: 0 10px 30px rgba(0,0,0,.35);}
  h1 { margin:0 0 8px; font-size: 30px;}
  .sub { color:var(--muted); margin-bottom:18px; font-size: 20px; }
  .row { display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
  input[type="text"]{
    flex:1 1 auto;
    width: 420px;
    font-size: 20px;
    padding: 14px 16px;
    border-radius:14px;
    border:1px solid rgba(255,255,255,.14);
    background:#0f1c2a; color:#e9f5ff; letter-spacing:6px; text-align:center;
  }

input#guess {
font-size: 20px;
background: #1e3a52;
border: 3px solid #2c4157;
color: white;
}

button { cursor:pointer; border:0; border-radius:12px; padding:12px 16px; font-size:20px; }
.primary { background:var(--accent); color:#00121d; }
.secondary { background:#2c4157; color:#d7e7f5; }
.ghost { background:transparent; color:var(--muted); border:1px dashed rgba(255,255,255,.2); }
button:disabled { opacity:.45; cursor:not-allowed; }
.hint { margin-top:10px; color:var(--muted); font-size:20px;}
.warn { margin-top:6px; color:#ffb8c1; font-size:20px; min-height:1.3em; }
.log { margin-top:18px; background:#0f1c2a; border-radius:14px; border:1px solid rgba(255,255,255,.08); max-height:50vh; overflow:auto;}
.badge { cursor:pointer; border:0; border-radius:12px; padding:12px 16px; font-size:20px;display:inline-block;  background:#50a3c7;}
.mode-buttons { display:flex; gap:8px; margin-bottom:14px; flex-wrap:wrap; }
.ok { color:#b8ffb8; }
.fail { color:#ffb8c1; }
#modeLabel:empty {
display: none;
}
/* New game button attention effect */
.attention {
animation: pulse 1.2s ease-in-out infinite;
}
@keyframes pulse {
0%, 100% { transform: scale(1); box-shadow: 0 0 0 rgba(0,0,0,0); }
50% { transform: scale(1.03); box-shadow: 0 8px 20px rgba(0,0,0,.25); }
}

input#guess {
font-size: 20px;
background: var(--bg);
border: 3px solid #2c4157;
color:white;
}

/* Number keypad styles */
.number-keypad {
display: grid;
grid-template-columns: repeat(5, 1fr);
gap: 8px;
margin: 15px 0;
max-width: 500px;
}

.number-btn {
padding: 15px 10px;
font-size: 18px;
font-weight: bold;
border: none;
border-radius: 10px;
background: #2c4157;
color: #d7e7f5;
cursor: pointer;
transition: all 0.2s ease;
min-height: 50px;
}

.number-btn:hover {
background: #3a5068;
transform: translateY(-2px);
}

.number-btn:active {
transform: translateY(0);
}

.number-btn:disabled {
background: #1a2a3a;
color: #666;
cursor: not-allowed;
opacity: 0.5;
}

.number-btn.used {
background: #4a4a4a;
color: #999;
}

.control-btn {
background: #50a3c7;
color: white;
}

.control-btn:hover {
background: #3d7187;
}

.keypad-section {
margin: 15px 0;
}

.keypad-title {
color: var(--muted);
font-size: 16px;
margin-bottom: 8px;
text-align: center;
}

/* Result item styles - NEW */
.result-item {
  background: #1a2a3a;
  border-radius: 12px;
  padding: 12px 16px;
  margin-bottom: 10px;
  border: 1px solid rgba(255,255,255,.1);
  display: flex;
  align-items: center;
  gap: 16px;
}

.result-number {
  color: var(--muted);
  font-size: 16px;
  min-width: 40px;
}

.result-guess {
  font-size: 22px;
  font-weight: bold;
  letter-spacing: 4px;
  color: #e9f5ff;
  flex: 1;
}

.result-score {
  font-size: 20px;
  color: var(--accent);
  font-weight: bold;
}

.result-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.results-container {
  margin-top: 20px;
  max-height: 50vh;
  overflow-y: auto;
}

/* Mobile keypad optimization */
@media (max-width: 600px) {
.number-keypad {
grid-template-columns: repeat(5, 1fr);
gap: 6px;
}

.number-btn {
padding: 12px 8px;
font-size: 16px;
min-height: 45px;
}
input#guess {
width: 100%;
font-size: 18px;
}
.row {
flex-direction: column;
align-items: stretch;
}
.row > * {
width: 100%;
margin-bottom: 8px;
}
}
</style>
</head>
<body>
<button class="back-button" onclick="location.href='index.html'"> ← </button>
<div class="wrap">
  <div class="card">
    <h1>Number Baseball Game (easy)</h1>
    <div style="margin:10px 0;padding:10px 14px;border:1px solid #ccc;border-radius:8px;background:#143148;color:#d7e7f5;font-size:20px;line-height:1.6">
  <strong>Game Rules:</strong> <br>
  - A classic number guessing puzzle game.<br>
  - Guess the secret code made of unique digits.<br>
  - <b>S (Strike)</b>: Right number in right position<br>
  - <b>B (Ball)</b>: Right number in wrong position<br>
  - <b>O (Out)</b>: Number not in secret code<br>
  Get all strikes to win!
</div>

<div class="mode-buttons">
      <button class="secondary" id="m3e">3 digits (1~9)</button>
      <button class="secondary" id="m3i">3 digits (0~9)</button>
      <button class="secondary" id="m4e">4 digits (1~9)</button>
      <button class="secondary" id="m4i">4 digits (0~9)</button>
    </div>

<div class="row">
  <button id="btn-reset" class="secondary">New Game</button>
  <button id="btn-giveup" class="ghost">Give Up</button>
 <span id="status" class="badge">Please select a mode first.</span>
  <span id="modeLabel" class="badge"></span>
<span id="summary" class="hint"></span>
</div>

<!-- Results show here immediately after each attempt -->
<div class="results-container" id="resultsContainer"></div>

<!-- Input area - stays at top -->
<div style="margin-top: 20px;">
  <div class="row">
    <input id="guess" autocomplete="off" inputmode="none" maxlength="4" placeholder="e.g: 573" readonly />
    <button id="btn-try" class="primary" disabled>Submit</button>
  </div>
  <div id="warn" class="warn"></div>
</div>

<!-- Number keypad -->
<div class="keypad-section">
  <div class="keypad-title">Click the numbers</div>
  <div class="number-keypad" id="keypad">
    <button class="number-btn" data-number="1">1</button>
    <button class="number-btn" data-number="2">2</button>
    <button class="number-btn" data-number="3">3</button>
    <button class="number-btn" data-number="4">4</button>
    <button class="number-btn" data-number="5">5</button>
    <button class="number-btn" data-number="6">6</button>
    <button class="number-btn" data-number="7">7</button>
    <button class="number-btn" data-number="8">8</button>
    <button class="number-btn" data-number="9">9</button>
    <button class="number-btn" data-number="0">0</button>
    <button class="number-btn control-btn" id="backspace">Delete</button>
    <button class="number-btn control-btn" id="clear">Clear</button>
  </div>
</div>

<div class="hint">S = Right digit in right place, B = Right digit in wrong place, O = Wrong digit</div>

<!-- Results show here immediately after each attempt -->
<div class="results-container" id="resultsContainer"></div>

  </div>
</div>

<script>
(function () {
  const $ = sel => document.querySelector(sel);
  const guessEl = $("#guess"), statusEl = $("#status"),
        summaryEl = $("#summary"), btnTry = $("#btn-try"),
        btnReset = $("#btn-reset"), btnGiveup = $("#btn-giveup"),
        warnEl = $("#warn"), modeLabel = $("#modeLabel"),
        resultsContainer = $("#resultsContainer");

  let secret = "", tries = 0, finished = false;
  let mode = null; // {len:3|4, zero:true|false}
  let currentModeKey = null; // m3e, m3i, m4e, m4i
  let guessHistory = new Set(); // Track all guesses

  const modes = {
    m3e: {len:3, zero:false, label:"3 digits · no 0"},
    m3i: {len:3, zero:true, label:"3 digits · with 0"},
    m4e: {len:4, zero:false, label:"4 digits · no 0"},
    m4i: {len:4, zero:true, label:"4 digits · with 0"}
  };

  Object.keys(modes).forEach(id=>{
    $("#"+id).addEventListener("click", ()=>{
      mode = modes[id];
      currentModeKey = id;
      modeLabel.textContent = mode.label;
      reset();
      updateKeypad(); // Update keypad
    });
  });

  function newSecret() {
    let digits = mode.zero ? ["0","1","2","3","4","5","6","7","8","9"] : ["1","2","3","4","5","6","7","8","9"];
    for (let i = digits.length - 1; i > 0; i--) {
      const r = Math.floor(Math.random() * (i + 1));
      [digits[i], digits[r]] = [digits[r], digits[i]];
    }
    // Prevent 0 as first digit
    if (digits[0] === "0") {
      for (let i = 1; i < digits.length; i++) {
        if (digits[i] !== "0") { [digits[0], digits[i]] = [digits[i], digits[0]]; break; }
      }
    }
    return digits.slice(0, mode.len).join("");
  }

function reset() {
  if (!mode) { warnEl.textContent = "Please select a mode first."; return; }
  secret = newSecret();
  tries = 0; finished = false;
  guessHistory.clear(); // Clear guess history
  resultsContainer.innerHTML = ""; // Clear results
  statusEl.textContent = "In Progress";
  statusEl.classList.remove("ok","fail");
  summaryEl.textContent = "";
  warnEl.textContent = "";
  guessEl.value = "";
  btnTry.disabled = true;
  guessEl.maxLength = mode.len;
  guessEl.placeholder = (mode.len === 3) ? "e.g: 573" : "e.g: 5073";

  updateButtons(false);        
  updateKeypad(); // Update keypad state
}

  // Update keypad function
  function updateKeypad() {
    const numberBtns = document.querySelectorAll('.number-btn[data-number]');
    const currentInput = guessEl.value;
    
    numberBtns.forEach(btn => {
      const number = btn.dataset.number;
      const isUsed = currentInput.includes(number);
      const isZeroAllowed = mode && mode.zero;
      const isFirstPosition = currentInput.length === 0;
      
      // Handle 0: disable if first position and 0 not allowed
      if (number === '0' && (!isZeroAllowed || isFirstPosition)) {
        btn.disabled = true;
        btn.classList.add('used');
      }
      // Disable if already used
      else if (isUsed) {
        btn.disabled = true;
        btn.classList.add('used');
      }
      // Disable all numbers if max length reached
      else if (mode && currentInput.length >= mode.len) {
        btn.disabled = true;
      }
      else {
        btn.disabled = false;
        btn.classList.remove('used');
      }
    });
  }

  // Keypad event listeners
  document.getElementById('keypad').addEventListener('click', (e) => {
    if (!mode || finished) return;
    
    const target = e.target;
    if (target.classList.contains('number-btn')) {
      if (target.dataset.number) {
        // Number button clicked
        const number = target.dataset.number;
        const currentInput = guessEl.value;
        
        // Length check and duplicate check
        if (currentInput.length < mode.len && !currentInput.includes(number)) {
          // First position 0 check
          if (number === '0' && currentInput.length === 0) return;
          
          guessEl.value += number;
          updateKeypad();
          validateInput();
        }
      }
      else if (target.id === 'backspace') {
        // Delete button
        guessEl.value = guessEl.value.slice(0, -1);
        updateKeypad();
        validateInput();
      }
      else if (target.id === 'clear') {
        // Clear all button
        guessEl.value = '';
        updateKeypad();
        validateInput();
      }
    }
  });

  function validateInput() {
    const v = guessEl.value;
    const err = validate(v);
    btnTry.disabled = !!err;
    warnEl.textContent = (v.length === (mode ? mode.len : 0) && err) ? err : "";
  }

  function validate(input) {
    if (!mode) return "Please select a mode first.";
    if (input.length < mode.len) return `Enter all ${mode.len} digits.`;
    
    // Check for duplicate guess
    if (guessHistory.has(input)) {
      return "You already tried this number!";
    }
    
    let regex = mode.zero ? /^\d+$/ : /^[1-9]+$/;
    if (!regex.test(input)) return mode.zero ? "Only digits 0~9" : "Only digits 1~9 (no 0)";
    if (new Set(input).size !== mode.len) return "All digits must be different.";
    if (input[0] === "0") return "First digit cannot be 0";
    return "";
  }

function score(guess, ans) {
  const res = Array(guess.length).fill("O"); // Default OUT
  const remainAns = {}; 
  const remainIdx = [];

  // 1) Strikes first
  for (let i = 0; i < guess.length; i++) {
    if (guess[i] === ans[i]) {
      res[i] = "S";
    } else {
      remainIdx.push(i);
      remainAns[ans[i]] = (remainAns[ans[i]] || 0) + 1;
    }
  }

  // 2) Balls
  for (const i of remainIdx) {
    const d = guess[i];
    if (remainAns[d] > 0) {
      res[i] = "B";
      remainAns[d]--;
    }
  }

  return res.join(""); // e.g: "BSOO"
}

// Modified: Single line result display
function addResult(guess, pattern, tryNumber) {
  const resultItem = document.createElement("div");
  resultItem.className = "result-item";
  resultItem.innerHTML = `
    <span class="result-number">#${tryNumber}</span>
    <span class="result-guess">${guess}</span>
    <span class="result-score">${pattern}</span>
  `;
  
  // Insert at the beginning (most recent on top)
  resultsContainer.insertBefore(resultItem, resultsContainer.firstChild);
}
  
function onTry() {
  if (finished || !mode) return;
  const g = guessEl.value.trim();
  const err = validate(g);
  if (err) { warnEl.textContent = err; return; }
  
  warnEl.textContent = "";
  tries++;
  guessHistory.add(g); // Add to history

  const pattern = score(g, secret);
  addResult(g, pattern, tries); // Show result immediately

  if (pattern.split("").every(ch => ch === "S")) {
    finished = true;
    statusEl.textContent = `Correct! (${secret})`;
    statusEl.classList.add("ok");
    summaryEl.textContent = `You won in ${tries} tries!`;
    btnTry.disabled = true;
    updateButtons(true);
  } else {
    summaryEl.textContent = ``;
  }

  // Clear input and reset keypad for next attempt
  guessEl.value = "";
  btnTry.disabled = true;
  updateKeypad();
}   
function giveUp() {
  if (finished || !mode) return;
  finished = true;
  statusEl.textContent = `Give up! Answer: ${secret}`;
  statusEl.classList.add("fail");
  btnTry.disabled = true;

  updateButtons(true);
} 
function updateButtons(isFinished) {
  // Submit button: less prominent (secondary) when finished, primary when in progress
  btnTry.classList.toggle("primary", !isFinished);
  btnTry.classList.toggle("secondary", isFinished);

  // New game button: prominent (primary) when finished, secondary when in progress
  btnReset.classList.toggle("primary", isFinished);
  btnReset.classList.toggle("secondary", !isFinished);

  // Optional: attention effect for new game button
  btnReset.classList.toggle("attention", isFinished);
}
  function onInput(e) {
    // Restrict direct input when using keypad
    e.preventDefault();
    return false;
  }

  guessEl.addEventListener("input", onInput);
  guessEl.addEventListener("keydown", e => { 
    // Allow Enter key
    if (e.key === "Enter" && !btnTry.disabled) {
      onTry();
    } else {
      // Block other key inputs (keypad only)
      e.preventDefault();
    }
  });
  btnTry.addEventListener("click", onTry);
  btnReset.addEventListener("click", reset);
  btnGiveup.addEventListener("click", giveUp);
})();
</script>

</body>
</html>
