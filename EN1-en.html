<!DOCTYPE html>
<html lang="en">
<head>
<!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4YZHC1G9FN"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-4YZHC1G9FN');
    </script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Word Baseball Easy - English Word Guessing Game | Soosooland</title>
    
    <!-- SEO Meta Tags -->
    <meta name="description" content="Easy English word Bulls and Cows! Per-position S/B/O hints make it beginner-friendly. Educational word puzzle for English learners.">
    <meta name="keywords" content="word baseball, bulls and cows, word guessing game, easy english game, vocabulary game, educational puzzle, logic game, deduction game">
    <meta name="author" content="Soosooland">
    
    <!-- Open Graph -->
    <meta property="og:title" content="Soo Word Baseball Easy - English Word Guessing Game">
    <meta property="og:description" content="Easy English word Bulls and Cows! Per-position S/B/O hints for beginners">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://soosooland.com/yagoo/EN1-en.html">
    <meta property="og:image" content="https://soosooland.com/images/yagoo.png">
    <meta property="og:site_name" content="Soosooland">

    <link rel="canonical" href="https://soosooland.com/yagoo/EN1-en.html"> 
    <link rel="alternate" hreflang="ko" href="https://soosooland.com/yagoo/EN1-ko.html">
    <link rel="alternate" hreflang="en" href="https://soosooland.com/yagoo/EN1-en.html">

 <style>
    body { font-family: Arial, sans-serif; background: #0f172a; color: #e5e7eb; display: flex; justify-content: center; padding: 20px; font-size:20px;}
    .app { max-width: 600px; width: 100%; background: #111827; padding: 20px; border-radius: 10px; }
    h1 { margin-top: 0; font-size:30px;}
    select, input, button { padding: 8px; margin: 4px; border-radius: 5px; border: none;  font-size:20px;}
    button { cursor: pointer; font-size:20px;}
    .card { background: #1f2937; padding: 10px; border-radius: 8px; margin-bottom: 10px;font-size:20px; }
    .log { max-height: 300px; overflow-y: auto; }
    .try { display:flex; justify-content:space-between; padding: 6px 0; border-bottom: 1px solid #374151; }
    .status.ok { color: #34d399; }
    .status.warn { color: #f59e0b; }
    .status.err { color: #f87171; }
    label {font-size:20px;}

/* === 글자수 선택 버튼 === */
.length-buttons {
display: flex;
gap: 8px;
margin: 10px 0;
}

.length-btn {
padding: 10px 15px;
border-radius: 6px;
border: 2px solid #374151;
background: #1f2937;
color: #e5e7eb;
cursor: pointer;
font-size: 18px;
font-weight: bold;
transition: all 0.2s;
}

.length-btn:hover {
background: #374151;
}

.length-btn.active {
background: #FFD700;
color: #0f172a;
}

#newGame {
  width: 50px;
  height: 50px;
  border-radius: 8px;
  background: #6f85b0;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.2s;
  position: relative;
  color:white;
  font-size:30px;
}

#newGame:hover {
  background: #9ca3af;
}

.current-word {
font-size: 28px;
font-weight: bold;
text-align: center;
padding: 15px;
background: #374151;
border-radius: 8px;
margin: 10px 0;
letter-spacing: 4px;
min-height: 40px;
display: flex;
align-items: center;
justify-content: center;
}

/* === 알파벳 키보드 === */
.kb { margin-top:10px; display:grid; grid-template-columns: repeat(auto-fit, minmax(40px,1fr)); gap:8px; }
.key {
padding:15px 8px; border-radius:8px; text-align:center; font-weight:700; font-size:18px;
background:#1a2430; color:#d0ddea; border:1px solid #374151; user-select:none;
cursor: pointer; transition: all 0.2s;
}
.key:hover { background:#2a3441; }
.key:active { transform: scale(0.95); }
.key.idle { background:#1a2430; color:#d0ddea; }
.key.hit  { background:#8fd3ff; color:#062033; border-color:transparent; }  /* 있다 */
.key.out  { background:#fccad6; color:#3a0010; border-color:transparent; }  /* 없다 */

/* === 특수 키 === */
.special-keys { display: flex; gap: 8px; margin-top: 10px; }
.special-key {
flex: 1;
padding: 12px;
border-radius: 8px;
text-align: center;
font-weight: 700;
cursor: pointer;
border: 1px solid #374151;
transition: all 0.2s;
}
.backspace { background:#059669; color: white; }
.backspace:hover { background:#047857; }
.enter { background: #059669; color: white; }
.enter:hover { background: #047857; }
.enter:disabled { background: #374151; color: #6b7280; cursor: not-allowed; }

.legend { display:flex; gap:8px; align-items:center; flex-wrap:wrap; font-size:16px; color:#94a3b8; }
.legend .swatch { display:inline-block; width:14px; height:14px; border-radius:4px; margin-right:6px; vertical-align:-2px; }

/* 모바일에서 기존 입력창 숨기기 */
.hidden { display: none; }

  </style>
</head>
<body>

<div class="app">
    <h1>English Baseball (easy)<span style="color:#94a3b8"></span></h1>

<div class="card">
  <strong>game rules</strong>
  <ol style="font-size:18px; padding-left:20px;">

<li>Guess the secret English word.</li>
<li>Choose word length (3/4/5/6).</li>
<li>S=correct position and letter, B=correct letter only, O=not present.</li>
<li>Records show <b>only the position-based result string</b>. (Example: <code>SOBB</code>)</li>
<li>Enter directly using the alphabet keyboard below.</li>

  </ol>
</div>

<div class="card">
  <div class="length-buttons">
    <button class="length-btn" data-length="3">3</button>
    <button class="length-btn active" data-length="4">4</button>
    <button class="length-btn" data-length="5">5</button>
    <button class="length-btn" data-length="6">6</button>
    <button id="newGame">▶</button>
</div>
  </div>

<div class="card">
  <div id="status" class="status"></div>
</div>

<div class="card">
  <div style="display:flex; justify-content:space-between; align-items:center;">
    <strong>Record</strong>

<button id="reveal">View Answer</button>
  </div>
  <div class="log" id="log">
    <!-- 여기에 기록과 현재 입력창이 함께 표시됩니다 -->
  </div>
</div>

<div class="card">
  <div class="legend" style="margin:8px 0 6px;">

<p>Alphabet hints and keyboard</p><span><span class="swatch" style="background:#1a2430;border:1px solid #374151;"></span>Not tried</span>
    <span><span class="swatch" style="background:#8fd3ff;"></span>Present</span>
    <span><span class="swatch" style="background:#fccad6;"></span>Not present</span>
  </div>

  <div id="kb" class="kb" aria-label="알파벳 키보드"></div>
  <div class="special-keys">

<div class="special-key backspace" id="backspace">⌫ Delete</div>
    <div class="special-key enter" id="enterKey">Enter</div>
  </div>
</div>

<button onclick="window.open('hints.html', '_blank')">View Word Pool</button>

  </div>

  <script>
  // 워드풀을 코드 안에 직접 정의
   const WORDPOOL = [
"ACT", "ADD", "AGE", "AGO", "AIM", "AIR", "ALL", "AND", "ANT", "ANY", "APP", "ARM", "ART", "ASH", "ASK", "BAD", "BAG", "BAN", "BAR", "BAT", "BAY", "BED", "BEE", "BIG", "BIN", "BIT", "BOW", "BOX", "BOY", "BUS", "BUT", "BUY", "BYE", "CAN", "CAP", "CAR", "CAT", "COP", "COW", "CRY", "CUP", "CUT", "DAD", "DAM", "DAY", "DIE", "DIP", "DOG", "DRY", "DUB", "DUE", "DUO", "DVD", "EAR", "EAT", "EGG", "EGO", "END", "EYE", "FAN", "FAR", "FAT", "FEW", "FIT", "FIX", "FLU", "FLY", "FOR", "FOX", "FRY", "FUN", "FUR", "GAP", "GAS", "GET", "GOD", "GUN", "GUT", "GUY", "GYM", "HAT", "HER", "HEY", "HIM", "HIS", "HIT", "HOT", "HOW", "ICE", "ILL", "ITS", "JAM", "JOB", "KEY", "KID", "LAB", "LAD", "LAP", "LAW", "LAY", "LEG", "LET", "LIE", "LIP", "LOG", "LOT", "LOW", "MAD", "MAN", "MAP", "MAY", "MIX", "MOB", "MUD", "MUM", "NET", "NEW", "NOD", "NOR", "NOT", "NOW", "NUT", "ODD", "OFF", "OIL", "OLD", "ONE", "OPT", "OUR", "OUT", "OWN", "PAD", "PAN", "PAY", "PEN", "PER", "PET", "PIG", "PIN", "PIT", "POP", "POT", "PRO", "PUB", "PUT", "RAT", "RAY", "RED", "RIP", "ROD", "ROW", "RUN", "SAD", "SAY", "SEA", "SEE", "SET", "SEX", "SHE", "SHY", "SIN", "SIR", "SIT", "SIX", "SKI", "SKY", "SON", "SPY", "SUE", "SUM", "SUN", "TAG", "TAP", "TAX", "TEA", "TEN", "THE", "TIE", "TIN", "TIP", "TOE", "TON", "TOO", "TOP", "TOY", "TRY", "TWO", "USE", "VAN", "VIA", "VOW", "WAR", "WAY", "WEB", "WET", "WHO", "WHY", "WIN", "WIT", "WOW", "YES", "YET", "YOU", "ABLE", "ACID", "ACRE", "AGED", "AIDE", "AIDS", "ALLY", "ALSO", "AMID", "AREA", "ARMS", "ARMY", "AUNT", "AUTO", "AWAY", "BABY", "BACK", "BAIL", "BAKE", "BALL", "BAND", "BANK", "BARE", "BASE", "BASS", "BATH", "BEAM", "BEAN", "BEAR", "BEAT", "BEEF", "BEER", "BEET", "BELL", "BELT", "BEND", "BENT", "BEST", "BIAS", "BIKE", "BILL", "BIND", "BIRD", "BITE", "BLOG", "BLOW", "BLUE", "BOAT", "BODY", "BOIL", "BOLD", "BOMB", "BOND", "BONE", "BOOK", "BOOM", "BOOT", "BORN", "BOSS", "BOTH", "BOWL", "BUCK", "BULK", "BULL", "BURN", "BURY", "BUSH", "BUSY", "CAFE", "CAKE", "CALL", "CALM", "CAMP", "CARD", "CARE", "CASE", "CASH", "CAST", "CAVE", "CELL", "CENT", "CHAT", "CHEF", "CHIP", "CHOP", "CITE", "CITY", "CLIP", "CLUB", "CLUE", "COAL", "COAT", "CODE", "COIN", "COLD", "COME", "COOK", "COOL", "COPE", "COPY", "CORE", "COST", "COUP", "CRAB", "CREW", "CROP", "CULT", "CURE", "CUTE", "DARE", "DARK", "DATA", "DATE", "DAWN", "DEAD", "DEAL", "DEAR", "DEBT", "DECK", "DEED", "DEEM", "DEEP", "DEER", "DEFY", "DENY", "DESK", "DIET", "DIRT", "DISC", "DISH", "DISK", "DIVE", "DOOR", "DOSE", "DOWN", "DRAG", "DRAW", "DROP", "DRUG", "DRUM", "DUAL", "DUCK", "DULL", "DUMB", "DUMP", "DUST", "DUTY", "EACH", "EARN", "EASE", "EAST", "EASY", "ECHO", "EDGE", "EDIT", "ELSE", "EURO", "EVEN", "EVER", "EVIL", "EXAM", "EXIT", "FACE", "FACT", "FADE", "FAIL", "FAIR", "FAKE", "FALL", "FAME", "FARE", "FARM", "FAST", "FATE", "FEAR", "FEAT", "FEED", "FEEL", "FILE", "FILL", "FILM", "FIND", "FINE", "FIRE", "FIRM", "FISH", "FIVE", "FLAG", "FLAT", "FLAW", "FLEE", "FLOW", "FOLD", "FOLK", "FOND", "FOOD", "FOOL", "FOOT", "FORK", "FORM", "FOUR", "FREE", "FROG", "FROM", "FUEL", "FULL", "FUND", "GAIN", "GAME", "GANG", "GATE", "GAZE", "GEAR", "GENE", "GIFT", "GIRL", "GIVE", "GLAD", "GOAL", "GOAT", "GOLD", "GOLF", "GOOD", "GRAB", "GRAY", "GREY", "GRID", "GRIN", "GRIP", "GROW", "HAIL", "HAIR", "HALF", "HALL", "HALT", "HAND", "HANG", "HARD", "HARM", "HATE", "HAVE", "HEAD", "HEAL", "HEAR", "HEAT", "HEEL", "HELL", "HELP", "HERB", "HERE", "HERO", "HERS", "HIDE", "HIGH", "HILL", "HINT", "HIRE", "HOLD", "HOLE", "HOLY", "HOME", "HOOK", "HOPE", "HORN", "HOST", "HOUR", "HUGE", "HUNT", "HURT", "ICON", "IDEA", "INCH", "INFO", "INTO", "IRON", "ITEM", "JAIL", "JAZZ", "JOIN", "JOKE", "JULY", "JUMP", "JUNE", "JURY", "JUST", "KALE", "KEEN", "KEEP", "KICK", "KILL", "KIND", "KING", "KISS", "KIWI", "KNEE", "KNOW", "LACK", "LADY", "LAKE", "LAMP", "LAND", "LANE", "LAST", "LATE", "LAWN", "LAZY", "LEAD", "LEAF", "LEAK", "LEAN", "LEAP", "LEFT", "LEND", "LENS", "LESS", "LIFE", "LIFT", "LIKE", "LIMB", "LIME", "LINE", "LINK", "LION", "LIST", "LIVE", "LOAD", "LOAN", "LOCK", "LOGO", "LONG", "LOOK", "LOOM", "LOOP", "LORD", "LOSE", "LOSS", "LOST", "LOUD", "LOVE", "LUCK", "LUNG", "MAIL", "MAIN", "MAKE", "MALE", "MALL", "MANY", "MARK", "MASK", "MASS", "MATE", "MEAL", "MEAN", "MEAT", "MEET", "MELT", "MEMO", "MENU", "MERE", "MESS", "MILD", "MILE", "MILK", "MILL", "MIND", "MINE", "MINT", "MISS", "MODE", "MONK", "MOOD", "MOON", "MORE", "MOST", "MOVE", "MUCH", "MUST", "MYTH", "NAIL", "NAME", "NEAR", "NEAT", "NECK", "NEED", "NEST", "NEWS", "NEXT", "NICE", "NINE", "NONE", "NOON", "NORM", "NOSE", "NOTE", "OBEY", "ODDS", "ONCE", "ONLY", "ONTO", "OPEN", "ORAL", "OURS", "OVEN", "OVER", "PACE", "PACK", "PAGE", "PAIN", "PAIR", "PALE", "PALM", "PARK", "PART", "PASS", "PAST", "PATH", "PEAK", "PEAR", "PEER", "PICK", "PILE", "PILL", "PINK", "PIPE", "PITY", "PLAN", "PLAY", "PLEA", "PLOT", "PLUG", "PLUM", "PLUS", "POEM", "POET", "POLE", "POLL", "POND", "POOL", "POOR", "PORT", "POSE", "POST", "POUR", "PRAY", "PREY", "PULL", "PUMP", "PUNK", "PURE", "PUSH", "QUIT", "RACE", "RAGE", "RAID", "RAIL", "RAIN", "RANK", "RAPE", "RARE", "RATE", "READ", "REAL", "REAR", "RELY", "RENT", "REST", "RICE", "RICH", "RIDE", "RING", "RIOT", "RISE", "RISK", "ROAD", "ROCK", "ROLE", "ROLL", "ROOF", "ROOM", "ROOT", "ROPE", "ROSE", "RUDE", "RUIN", "RULE", "RUSH", "SACK", "SAFE", "SAIL", "SAKE", "SALE", "SALT", "SAME", "SAND", "SAVE", "SCAN", "SEAL", "SEAT", "SEED", "SEEK", "SEEM", "SELF", "SELL", "SEND", "SEXY", "SHED", "SHIP", "SHOE", "SHOP", "SHOT", "SHOW", "SHUT", "SICK", "SIDE", "SIGH", "SIGN", "SILK", "SING", "SINK", "SITE", "SIZE", "SKIN", "SKIP", "SLAM", "SLAP", "SLIP", "SLOT", "SLOW", "SNAP", "SNOW", "SOAK", "SOAP", "SOAR", "SOCK", "SOFT", "SOIL", "SOLE", "SOLO", "SOME", "SONG", "SOON", "SORT", "SOUL", "SOUP", "SPAM", "SPAN", "SPIN", "SPOT", "STAB", "STAR", "STAY", "STEM", "STEP", "STIR", "STOP", "STUN", "SUCH", "SUCK", "SUIT", "SURE", "SWIM", "TAIL", "TAKE", "TALE", "TALK", "TALL", "TANK", "TAPE", "TASK", "TAXI", "TEAM", "TEAR", "TELL", "TEND", "TENT", "TERM", "TEST", "TEXT", "THAN", "THAT", "THEM", "THEN", "THEY", "THIN", "THIS", "THUS", "TIDE", "TIDY", "TILL", "TIME", "TINY", "TOLL", "TONE", "TOOL", "TOSS", "TOUR", "TOWN", "TRAP", "TREE", "TRIO", "TRIP", "TRUE", "TUBE", "TUNA", "TUNE", "TURN", "TWIN", "TYPE", "TYRE", "UGLY", "UNIT", "UPON", "URGE", "USED", "USER", "VARY", "VAST", "VEIN", "VERY", "VICE", "VIEW", "VISA", "VOTE", "WAGE", "WAIT", "WAKE", "WALK", "WALL", "WANT", "WARD", "WARM", "WARN", "WASH", "WAVE", "WEAK", "WEAR", "WEED", "WEEK", "WELL", "WEST", "WHAT", "WHEN", "WHIP", "WHOM", "WIDE", "WIFE", "WILD", "WILL", "WIND", "WINE", "WING", "WIPE", "WIRE", "WISE", "WISH", "WITH", "WOLF", "WOOD", "WOOL", "WORD", "WORK", "WORM", "WRAP", "YARD", "YEAH", "YEAR", "YELL", "YOUR", "ZERO", "ZONE", "ABOUT", "ABOVE", "ABUSE", "ACTOR", "ACUTE", "ADAPT", "ADMIT", "ADOPT", "ADULT", "AFTER", "AGAIN", "AGENT", "AGREE", "AHEAD", "ALARM", "ALBUM", "ALERT", "ALGAE", "ALIEN", "ALIGN", "ALIKE", "ALIVE", "ALLOW", "ALONE", "ALONG", "ALTER", "AMEND", "AMONG", "ANGEL", "ANGER", "ANGLE", "ANGRY", "ANKLE", "ANNOY", "APART", "APPLE", "APPLY", "APRIL", "ARENA", "ARGUE", "ARISE", "ARMED", "ARRAY", "ARROW", "ASIDE", "ASSET", "AUDIO", "AUDIT", "AVOID", "AWAIT", "AWARD", "AWARE", "AWFUL", "BADGE", "BADLY", "BASED", "BASIC", "BASIS", "BEACH", "BEAST", "BEGIN", "BEING", "BELOW", "BENCH", "BIRTH", "BLACK", "BLADE", "BLAME", "BLANK", "BLAST", "BLEED", "BLEND", "BLESS", "BLIND", "BLOCK", "BLOOD", "BOARD", "BOAST", "BONUS", "BOOST", "BORED", "BOUND", "BRAIN", "BRAND", "BRAVE", "BREAD", "BREAK", "BREED", "BRICK", "BRIDE", "BRIEF", "BRING", "BROAD", "BROWN", "BRUSH", "BUDDY", "BUILD", "BUNCH", "BURST", "CABIN", "CABLE", "CAMEL", "CANAL", "CARGO", "CARRY", "CARVE", "CATCH", "CATER", "CAUSE", "CEASE", "CHAIN", "CHAIR", "CHAOS", "CHARM", "CHART", "CHASE", "CHEAP", "CHEAT", "CHECK", "CHEEK", "CHEER", "CHEST", "CHIEF", "CHILD", "CHILE", "CHINA", "CHOIR", "CHUNK", "CIVIC", "CIVIL", "CLAIM", "CLASH", "CLASS", "CLEAN", "CLEAR", "CLERK", "CLICK", "CLIFF", "CLIMB", "CLING", "CLOCK", "CLOSE", "CLOTH", "CLOUD", "COACH", "COAST", "COMIC", "COULD", "COUNT", "COURT", "COVER", "CRACK", "CRAFT", "CRASH", "CRAWL", "CRAZY", "CREAM", "CREEP", "CRIME", "CROSS", "CROWD", "CROWN", "CRUDE", "CRUEL", "CRUSH", "CURLY", "CURVE", "CYCLE", "DAILY", "DAIRY", "DANCE", "DEATH", "DEBUT", "DELAY", "DEMON", "DENSE", "DEPTH", "DEVIL", "DIARY", "DIRTY", "DONOR", "DOUBT", "DOZEN", "DRAFT", "DRAIN", "DRAMA", "DREAM", "DRESS", "DRIFT", "DRINK", "DRIVE", "DROWN", "DRUNK", "EAGER", "EAGLE", "EARLY", "EARTH", "EGYPT", "EIGHT", "ELBOW", "ELECT", "ELITE", "EMAIL", "EMBED", "EMPTY", "ENACT", "ENEMY", "ENJOY", "ENROL", "ENSUE", "ENTER", "ENTRY", "EQUAL", "EQUIP", "ERECT", "ERROR", "ERUPT", "ESSAY", "ETHIC", "EVENT", "EVERY", "EVOKE", "EXACT", "EXERT", "EXILE", "EXIST", "EXTRA", "FAITH", "FALSE", "FANCY", "FATAL", "FAULT", "FENCE", "FEVER", "FIBRE", "FIELD", "FIFTH", "FIFTY", "FIGHT", "FINAL", "FIRST", "FIXED", "FLAME", "FLASH", "FLEET", "FLESH", "FLOAT", "FLOOD", "FLOOR", "FLOUR", "FLUID", "FOCUS", "FORCE", "FORGE", "FORTH", "FORTY", "FORUM", "FOUND", "FRAME", "FRAUD", "FRESH", "FRONT", "FRUIT", "FULLY", "FUNNY", "GENRE", "GHOST", "GIANT", "GLASS", "GLOBE", "GLORY", "GLOVE", "GOODS", "GRACE", "GRADE", "GRAIN", "GRAND", "GRANT", "GRAPE", "GRASP", "GRASS", "GRAVE", "GREAT", "GREEN", "GREET", "GRIEF", "GRIND", "GROSS", "GROUP", "GUARD", "GUESS", "GUEST", "GUIDE", "GUILT", "HABIT", "HANDY", "HAPPY", "HARSH", "HAUNT", "HEART", "HEAVY", "HELLO", "HENCE", "HOBBY", "HORSE", "HOTEL", "HOUSE", "HUMAN", "HURRY", "IDEAL", "IDIOT", "IMAGE", "IMPLY", "INCUR", "INDEX", "INDIA", "INFER", "INNER", "INPUT", "IRONY", "ISSUE", "ITALY", "JAPAN", "JEANS", "JOINT", "JUDGE", "JUICE", "KENYA", "KNIFE", "KNOCK", "KOREA", "LABEL", "LARGE", "LASER", "LATER", "LAUGH", "LAYER", "LEARN", "LEAST", "LEAVE", "LEGAL", "LEMON", "LEVEL", "LIGHT", "LIMIT", "LITRE", "LIVER", "LOBBY", "LOCAL", "LOGIC", "LOOSE", "LORRY", "LOWER", "LOYAL", "LUCKY", "LUNCH", "LYRIC", "MAGIC", "MAJOR", "MANGO", "MAPLE", "MARCH", "MARRY", "MATCH", "MATHS", "MAYBE", "MAYOR", "MEANS", "MEDAL", "MEDIA", "MELON", "MERCY", "MERGE", "MERIT", "METAL", "METRE", "MIDST", "MIGHT", "MINER", "MINOR", "MIXED", "MODAL", "MODEL", "MONEY", "MONTH", "MORAL", "MOTOR", "MOUNT", "MOUSE", "MOUTH", "MOVIE", "MUSIC", "NAKED", "NASTY", "NAVAL", "NEPAL", "NERVE", "NEVER", "NEWLY", "NICHE", "NIGHT", "NOBLE", "NOISE", "NOISY", "NORTH", "NOVEL", "NURSE", "OCCUR", "OCEAN", "OFFER", "OFTEN", "OLIVE", "ONION", "OPERA", "ORDER", "ORGAN", "OTHER", "OUGHT", "OUTER", "OWNER", "PAINT", "PANDA", "PANEL", "PANIC", "PANTS", "PAPER", "PARTY", "PATCH", "PAUSE", "PEACE", "PEACH", "PENNY", "PHASE", "PHONE", "PHOTO", "PIANO", "PIECE", "PILOT", "PITCH", "PLACE", "PLAIN", "PLANE", "PLANT", "PLATE", "PLEAD", "POINT", "POUND", "POWER", "PRESS", "PRICE", "PRIDE", "PRIME", "PRINT", "PRIOR", "PRIZE", "PROBE", "PROOF", "PROUD", "PROVE", "PULSE", "PUNCH", "PUPIL", "QUEEN", "QUERY", "QUEST", "QUEUE", "QUICK", "QUIET", "QUITE", "QUOTA", "QUOTE", "RADAR", "RADIO", "RAISE", "RALLY", "RANGE", "RAPID", "RATIO", "REACH", "REACT", "READY", "REALM", "REBEL", "REFER", "REIGN", "RELAX", "RENEW", "REPLY", "RIFLE", "RIGHT", "RISKY", "RIVAL", "RIVER", "ROBOT", "ROUGH", "ROUND", "ROUTE", "ROYAL", "RUGBY", "RURAL", "SADLY", "SAINT", "SALAD", "SAUCE", "SCALE", "SCARE", "SCARY", "SCENE", "SCOPE", "SCORE", "SCREW", "SEIZE", "SENSE", "SERVE", "SETUP", "SEVEN", "SHADE", "SHAKE", "SHALL", "SHAME", "SHAPE", "SHARE", "SHARP", "SHEEP", "SHEER", "SHEET", "SHELF", "SHELL", "SHIFT", "SHINE", "SHINY", "SHIRT", "SHOCK", "SHOOT", "SHORE", "SHORT", "SHOUT", "SHRUG", "SIGHT", "SILLY", "SINCE", "SIXTY", "SKILL", "SKIRT", "SKULL", "SLASH", "SLAVE", "SLEEP", "SLICE", "SLIDE", "SLOPE", "SMALL", "SMART", "SMASH", "SMELL", "SMILE", "SMOKE", "SNAKE", "SOLAR", "SOLID", "SOLVE", "SORRY", "SOUND", "SOUTH", "SPACE", "SPAIN", "SPARE", "SPARK", "SPEAK", "SPEED", "SPELL", "SPEND", "SPICE", "SPICY", "SPILL", "SPINE", "SPITE", "SPLIT", "SPOIL", "SPOON", "SPORT", "SQUAD", "STAFF", "STAGE", "STAIR", "STAKE", "STALL", "STAMP", "STAND", "STARE", "STARK", "START", "STATE", "STEAL", "STEAM", "STEEL", "STEEP", "STEER", "STICK", "STIFF", "STILL", "STOCK", "STONE", "STORE", "STORM", "STORY", "STRIP", "STUDY", "STUFF", "STYLE", "SUGAR", "SUITE", "SUPER", "SURGE", "SWEAR", "SWEEP", "SWEET", "SWING", "SWORD", "TABLE", "TASTE", "TEACH", "TEENS", "TEMPT", "TERMS", "THANK", "THEFT", "THEIR", "THEME", "THERE", "THICK", "THIEF", "THING", "THINK", "THIRD", "THREE", "THROW", "THUMB", "TIGER", "TIGHT", "TIRED", "TITLE", "TODAY", "TONNE", "TOOTH", "TOPIC", "TOTAL", "TOUCH", "TOUGH", "TOWEL", "TOWER", "TOXIC", "TRACE", "TRACK", "TRADE", "TRAIL", "TRAIN", "TRAIT", "TREAT", "TREND", "TRIAL", "TRIBE", "TRICK", "TROOP", "TRUCK", "TRULY", "TRUST", "TRUTH", "TWICE", "TWIST", "UNCLE", "UNDER", "UNIFY", "UNION", "UNITE", "UNITY", "UNTIL", "UPPER", "UPSET", "URBAN", "USAGE", "USUAL", "VAGUE", "VALID", "VALUE", "VENUE", "VERSE", "VIDEO", "VIRUS", "VISIT", "VITAL", "VOCAL", "VOICE", "WASTE", "WATCH", "WATER", "WEAVE", "WEIGH", "WEIRD", "WHALE", "WHEAT", "WHEEL", "WHERE", "WHICH", "WHILE", "WHITE", "WHOLE", "WHOSE", "WIDEN", "WIDOW", "WIDTH", "WOMAN", "WORLD", "WORRY", "WORSE", "WORST", "WORTH", "WOULD", "WOUND", "WRIST", "WRITE", "WRONG", "YIELD", "YOUNG", "YOURS", "YOUTH", "ABROAD", "ABSENT", "ABSORB", "ABSURD", "ACCENT", "ACCEPT", "ACCESS", "ACCUSE", "ACROSS", "ACTION", "ACTIVE", "ACTUAL", "ADHERE", "ADJUST", "ADMIRE", "ADVICE", "ADVISE", "AFFAIR", "AFFECT", "AFFORD", "AFRAID", "AGENCY", "AGENDA", "ALBEIT", "ALLEGE", "ALMOST", "ALWAYS", "AMAZED", "AMOUNT", "ANCHOR", "ANIMAL", "ANNUAL", "ANSWER", "ANYONE", "ANYWAY", "APPEAL", "APPEAR", "AROUND", "ARREST", "ARRIVE", "ARTIST", "ASLEEP", "ASPECT", "ASPIRE", "ASSERT", "ASSESS", "ASSIGN", "ASSIST", "ASSUME", "ASSURE", "ASYLUM", "ATTACH", "ATTACK", "ATTAIN", "ATTEND", "AUGUST", "AUTHOR", "AUTUMN", "BACKUP", "BALLET", "BALLOT", "BANANA", "BANNER", "BARELY", "BARREL", "BASKET", "BATTLE", "BEAUTY", "BECOME", "BEFORE", "BEHALF", "BEHAVE", "BEHIND", "BELIEF", "BELONG", "BESIDE", "BETRAY", "BETTER", "BEYOND", "BISHOP", "BITTER", "BLONDE", "BORDER", "BORING", "BORROW", "BOTHER", "BOTTLE", "BOTTOM", "BOUNCE", "BRANCH", "BRAZIL", "BREACH", "BREAST", "BREATH", "BRIDGE", "BRIGHT", "BROKEN", "BRUTAL", "BUBBLE", "BUDGET", "BUFFER", "BULLET", "BURDEN", "BURIAL", "BUTTER", "BUTTON", "CAMERA", "CAMPUS", "CANADA", "CANCEL", "CANCER", "CANDLE", "CANNOT", "CANVAS", "CARBON", "CAREER", "CARPET", "CARROT", "CASINO", "CASTLE", "CASUAL", "CATTLE", "CENTRE", "CHANCE", "CHANGE", "CHARGE", "CHEESE", "CHERRY", "CHOICE", "CHOOSE", "CHURCH", "CINEMA", "CIRCLE", "CLAUSE", "CLEVER", "CLIENT", "CLINIC", "CLOSED", "COFFEE", "COLONY", "COLOUR", "COLUMN", "COMBAT", "COMEDY", "COMMIT", "COMMON", "COMPEL", "COMPLY", "CONFER", "CONVEY", "COOKER", "COPPER", "CORNER", "COSTLY", "COTTON", "COUNTY", "COUPLE", "COURSE", "COUSIN", "CREATE", "CREDIT", "CRISIS", "CRITIC", "CRUISE", "CURVED", "CUSTOM", "DAMAGE", "DANCER", "DANGER", "DEADLY", "DEALER", "DEBATE", "DEBRIS", "DECADE", "DECENT", "DECIDE", "DEEPLY", "DEFEAT", "DEFECT", "DEFEND", "DEFINE", "DEGREE", "DELETE", "DEMAND", "DENIAL", "DEPART", "DEPEND", "DEPICT", "DEPLOY", "DEPUTY", "DERIVE", "DESERT", "DESIGN", "DESIRE", "DETAIL", "DETAIN", "DETECT", "DEVICE", "DEVISE", "DEVOTE", "DIFFER", "DINNER", "DIRECT", "DIVERT", "DIVIDE", "DIVINE", "DOCTOR", "DOLLAR", "DOMAIN", "DONATE", "DOUBLE", "DRIVER", "DURING", "EASILY", "EDITOR", "EFFECT", "EFFORT", "EIGHTY", "EITHER", "ELEVEN", "EMBARK", "EMBODY", "EMERGE", "EMPIRE", "EMPLOY", "ENABLE", "ENDING", "ENDURE", "ENERGY", "ENGAGE", "ENGINE", "ENOUGH", "ENRICH", "ENSURE", "ENTIRE", "ENTITY", "ESCAPE", "ESTATE", "ETHNIC", "EVOLVE", "EXCEED", "EXCEPT", "EXCESS", "EXCUSE", "EXOTIC", "EXPAND", "EXPECT", "EXPERT", "EXPIRE", "EXPORT", "EXPOSE", "EXTEND", "EXTENT", "FABRIC", "FACTOR", "FAILED", "FAIRLY", "FAMILY", "FAMOUS", "FARMER", "FASTEN", "FATHER", "FAVOUR", "FELLOW", "FEMALE", "FIERCE", "FIGURE", "FILTER", "FINGER", "FINISH", "FIRMLY", "FLAWED", "FLIGHT", "FLOWER", "FLYING", "FOLLOW", "FORBID", "FOREST", "FORGET", "FORMAL", "FORMAT", "FORMER", "FOSSIL", "FOSTER", "FOURTH", "FRANCE", "FREELY", "FREEZE", "FRIDAY", "FRIDGE", "FRIEND", "FROZEN", "FULFIL", "FUTURE", "GALLON", "GAMING", "GARAGE", "GARDEN", "GATHER", "GENDER", "GENIUS", "GENTLE", "GLANCE", "GLOBAL", "GOLDEN", "GOVERN", "GREECE", "GROUND", "GROWTH", "GUILTY", "GUITAR", "HANDLE", "HAPPEN", "HARDLY", "HATRED", "HAZARD", "HEALTH", "HEAVEN", "HEIGHT", "HELMET", "HIDDEN", "HIGHLY", "HOCKEY", "HOLLOW", "HONEST", "HONOUR", "HORROR", "HUMBLE", "HUMOUR", "HUNGER", "HUNGRY", "IGNORE", "IMMUNE", "IMPACT", "IMPORT", "IMPOSE", "INCOME", "INDEED", "INDOOR", "INDUCE", "INFANT", "INFECT", "INFORM", "INJECT", "INJURE", "INJURY", "INMATE", "INSECT", "INSERT", "INSIDE", "INSIST", "INSULT", "INTACT", "INTAKE", "INTEND", "INTENT", "INVADE", "INVENT", "INVEST", "INVITE", "INVOKE", "IRONIC", "ISLAND", "ITSELF", "JACKET", "JUNIOR", "KIDNAP", "KIDNEY", "LABOUR", "LADDER", "LAPTOP", "LATELY", "LATEST", "LATTER", "LAUNCH", "LAWYER", "LAYOUT", "LEADER", "LEAGUE", "LEGACY", "LEGEND", "LENGTH", "LESSER", "LESSON", "LETHAL", "LETTER", "LIABLE", "LIKELY", "LINEAR", "LINEUP", "LINGER", "LIQUID", "LISTEN", "LITTER", "LITTLE", "LIVELY", "LIVING", "LOCATE", "LONELY", "LOUDLY", "LOVELY", "LUXURY", "MAINLY", "MAKEUP", "MAKING", "MANAGE", "MANNER", "MARGIN", "MARINE", "MARKER", "MARKET", "MASTER", "MATTER", "MATURE", "MEDIUM", "MELODY", "MEMBER", "MEMOIR", "MEMORY", "MENTAL", "MENTOR", "MERELY", "MERGER", "METHOD", "MEXICO", "MIDDLE", "MINING", "MINUTE", "MIRROR", "MISERY", "MOBILE", "MODERN", "MODEST", "MODIFY", "MOMENT", "MONDAY", "MONKEY", "MOSQUE", "MOSTLY", "MOTHER", "MOTION", "MOTIVE", "MOVING", "MURDER", "MUSCLE", "MUSEUM", "MUTUAL", "MYSELF", "NAMELY", "NARROW", "NATION", "NATIVE", "NATURE", "NEARBY", "NEARLY", "NEEDLE", "NINETY", "NOBODY", "NORMAL", "NOTICE", "NOTIFY", "NOTION", "NUMBER", "OBJECT", "OBLIGE", "OBSESS", "OBTAIN", "OCCUPY", "OFFEND", "OFFICE", "ONLINE", "OPENLY", "OPPOSE", "OPTION", "ORANGE", "ORIGIN", "OUTFIT", "OUTING", "OUTLET", "OUTPUT", "OVERLY", "OXYGEN", "PACKET", "PALACE", "PARADE", "PARENT", "PARISH", "PARTLY", "PASTOR", "PATENT", "PATROL", "PATRON", "PENCIL", "PEOPLE", "PEPPER", "PERIOD", "PERMIT", "PERSON", "PETROL", "PHRASE", "PIRATE", "PLANET", "PLAYER", "PLEASE", "PLEDGE", "PLENTY", "PLUNGE", "POCKET", "POETRY", "POISON", "POLAND", "POLICE", "POLICY", "POLITE", "POSTER", "POTATO", "POWDER", "PRAISE", "PRAYER", "PREACH", "PREFER", "PRETTY", "PRIEST", "PRINCE", "PRISON", "PROFIT", "PROMPT", "PROPER", "PUBLIC", "PUNISH", "PURELY", "PURPLE", "PURSUE", "PUZZLE", "RABBIT", "RACIAL", "RACING", "RACISM", "RACIST", "RANDOM", "RARELY", "RATHER", "RATING", "READER", "REALLY", "REASON", "RECALL", "RECENT", "RECIPE", "RECKON", "RECORD", "REDUCE", "REFORM", "REFUGE", "REFUSE", "REGAIN", "REGARD", "REGIME", "REGION", "REGRET", "REJECT", "RELATE", "RELIEF", "REMAIN", "REMARK", "REMEDY", "REMIND", "REMOTE", "REMOVE", "RENDER", "RENTAL", "REPAIR", "REPEAT", "REPORT", "RESCUE", "RESIDE", "RESIGN", "RESIST", "RESORT", "RESULT", "RESUME", "RETAIL", "RETAIN", "RETIRE", "RETURN", "REVEAL", "REVIEW", "REVISE", "REVIVE", "REWARD", "RHYTHM", "RITUAL", "ROBUST", "ROCKET", "ROTATE", "RUBBER", "RULING", "RUMOUR", "RUNNER", "RUSSIA", "SACRED", "SAFETY", "SAILOR", "SALARY", "SALMON", "SAMPLE", "SAVING", "SCARED", "SCHEME", "SCHOOL", "SCREAM", "SCREEN", "SCRIPT", "SEARCH", "SEASON", "SECOND", "SECRET", "SECTOR", "SECURE", "SEEKER", "SELDOM", "SELECT", "SENIOR", "SERIAL", "SERIES", "SETTLE", "SEVERE", "SEXUAL", "SHADOW", "SHAPED", "SHOULD", "SHOWER", "SHRIMP", "SHRINK", "SIGNAL", "SILENT", "SILVER", "SIMPLE", "SIMPLY", "SINGER", "SINGLE", "SISTER", "SKETCH", "SKIING", "SLIGHT", "SLOGAN", "SLOWLY", "SMOOTH", "SOCCER", "SOCIAL", "SOLELY", "SOURCE", "SPEECH", "SPHERE", "SPIDER", "SPIRIT", "SPOKEN", "SPOUSE", "SPREAD", "SPRING", "SQUARE", "STABLE", "STANCE", "STARVE", "STATUE", "STATUS", "STEADY", "STICKY", "STRAIN", "STRAND", "STREAM", "STREET", "STRESS", "STRICT", "STRIKE", "STRING", "STRIVE", "STROKE", "STRONG", "STUDIO", "STUPID", "SUBMIT", "SUBTLE", "SUBURB", "SUDDEN", "SUFFER", "SUMMER", "SUMMIT", "SUNDAY", "SUPERB", "SUPPLY", "SURELY", "SURVEY", "SWITCH", "SYMBOL", "SYSTEM", "TABLET", "TACKLE", "TACTIC", "TALENT", "TARGET", "TEMPLE", "TENANT", "TENDER", "TENNIS", "TENURE", "TERROR", "THANKS", "THEIRS", "THEORY", "THESIS", "THIRTY", "THOUGH", "THREAD", "THREAT", "THRIVE", "THROAT", "TICKET", "TIMBER", "TIMELY", "TIMING", "TISSUE", "TOILET", "TOMATO", "TONGUE", "TRAGIC", "TRAUMA", "TRAVEL", "TREATY", "TRIBAL", "TROPHY", "TSHIRT", "TUNNEL", "TURKEY", "TURTLE", "TWELVE", "TWENTY", "UNABLE", "UNFAIR", "UNFOLD", "UNIQUE", "UNITED", "UNLESS", "UNLIKE", "UNVEIL", "UPDATE", "UPHOLD", "URGENT", "USEFUL", "VACUUM", "VALLEY", "VANISH", "VARIED", "VERBAL", "VERIFY", "VERSUS", "VESSEL", "VIABLE", "VICTIM", "VIEWER", "VIOLET", "VIRTUE", "VISION", "VISUAL", "VOLUME", "VOTING", "WAITER", "WALNUT", "WANDER", "WEAKEN", "WEALTH", "WEAPON", "WEEKLY", "WEIGHT", "WHILST", "WHOLLY", "WIDELY", "WINDOW", "WINNER", "WINTER", "WISDOM", "WITHIN", "WONDER", "WOODEN", "WORKER", "WORTHY", "WRITER", "YELLOW"];
  
    // === 유틸 ===
    const uniq = arr => Array.from(new Set(arr));
    const normalizeWords = arr => (arr||[]).map(w=>String(w).toUpperCase().replace(/[^A-Z]/g,'')).filter(Boolean);
    const buildDict = len => uniq(normalizeWords(WORDPOOL)).filter(w=>w.length===len);
    const setMaxTries = len => len===3?9:len===4?11:len===5?13:15;

    // === 요소 ===
    const newGameBtn = document.getElementById('newGame');
    const revealBtn = document.getElementById('reveal');
    const logEl = document.getElementById('log');
    const statusEl = document.getElementById('status');
    const backspaceBtn = document.getElementById('backspace');
    const enterKeyBtn = document.getElementById('enterKey');
    const lengthButtons = document.querySelectorAll('.length-btn');

    // === 키보드: 있다/없다만 ===
    const kbEl = document.getElementById('kb');
    const ALPHABETS = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
    const keyStates = new Map(); // 'A' -> 'idle' | 'hit' | 'out'

    // === 현재 입력 상태 ===
    let currentInput = "";

    function renderAlphabetKeyboard(){
      kbEl.innerHTML = "";
      ALPHABETS.forEach(ch=>{
        const div = document.createElement("div");
        div.className = "key " + (keyStates.get(ch) || "idle");
        div.textContent = ch;
        div.addEventListener('click', ()=> addLetter(ch));
        kbEl.appendChild(div);
      });
    }

    function renderCurrentInputRow(){
      const inputRow = document.createElement('div');
      inputRow.className = 'current-input-row';
      inputRow.id = 'currentInputRow';
      
      const wordSpan = document.createElement('span');
      wordSpan.className = 'current-input-word';
      
      if(currentInput.length === 0){
        wordSpan.textContent = 'Please enter a word.';
        wordSpan.classList.add('input-placeholder');
      } else {
        wordSpan.textContent = currentInput;
        wordSpan.classList.remove('input-placeholder');
      }
      
      inputRow.appendChild(wordSpan);
      return inputRow;
    }

    function updateCurrentInputDisplay(){
      const existingRow = document.getElementById('currentInputRow');
      if(existingRow){
        const wordSpan = existingRow.querySelector('.current-input-word');
        if(currentInput.length === 0){
          wordSpan.textContent = '단어를 입력하세요...';
          wordSpan.classList.add('input-placeholder');
        } else {
          wordSpan.textContent = currentInput;
          wordSpan.classList.remove('input-placeholder');
        }
      }
    }

    function addLetter(letter){
      if(gameOver) return;
      if(currentInput.length < length){
        currentInput += letter;
        updateCurrentInputDisplay();
      }
    }

    function removeLetter(){
      if(gameOver) return;
      if(currentInput.length > 0){
        currentInput = currentInput.slice(0, -1);
        updateCurrentInputDisplay();
      }
    }

    function updateKeyStateFromGuess(g){
      const secretSet = new Set(secret.toUpperCase().split(""));
      const used = new Set(g.toUpperCase().split(""));
      used.forEach(ch=>{
        if(!/[A-Z]/.test(ch)) return;
        const prev = keyStates.get(ch) || "idle";
        const now = secretSet.has(ch) ? "hit" : "out";
        // 'hit' 우선 유지
        keyStates.set(ch, prev === "hit" ? "hit" : now);
      });
      renderAlphabetKeyboard();
    }

    // === 게임 상태 ===
    let secret = "";
    let tries = 0;
    let maxTries = 0;
    let length = 4;
    let dict = [];
    let gameOver = true;
    let usedGuesses = new Set();

    function setStatus(msg, cls=''){ statusEl.textContent = msg; statusEl.className = `status ${cls}`; }
    function toggleInput(active){ 
      enterKeyBtn.style.opacity = active ? '1' : '0.5';
      if(!active){
        // 게임 종료시 현재 입력란 제거
        const existingRow = document.getElementById('currentInputRow');
        if(existingRow) existingRow.remove();
      }
    }
    function pickSecret(){
      // 중복 허용으로 모든 단어 사용
      return dict[Math.floor(Math.random()*dict.length)];
    }

    function startGame(){
      dict = buildDict(length);
      if (dict.length === 0){
        setStatus('워드풀에 해당 길이 단어가 없습니다.','err');
        toggleInput(false);
        return;
      }
      maxTries = setMaxTries(length);
      tries = 0;
      secret = pickSecret();
      usedGuesses.clear();
      logEl.innerHTML = '';
      currentInput = "";
      gameOver = false;
      
      // 첫 번째 입력 행 추가
      const inputRow = renderCurrentInputRow();
      logEl.appendChild(inputRow);
      
      toggleInput(true);
      setStatus('Guess and enter the secret word.','ok');

      // 키보드 초기화
      keyStates.clear();
      ALPHABETS.forEach(ch=>keyStates.set(ch,'idle'));
      renderAlphabetKeyboard();
    }

    // === 자리별 S/B/O 계산 (문자열만 쓸 것) ===
    function perLetterSBO(secret, guess){
      const n = secret.length;
      const s = secret.toUpperCase().split("");
      const g = guess.toUpperCase().split("");
      const marks = Array(n).fill('O'); // 기본 O

      // 1) S 먼저
      const remainS = {};
      for(let i=0;i<n;i++){
        if(g[i]===s[i]){
          marks[i] = 'S';
        }else{
          remainS[s[i]] = (remainS[s[i]]||0)+1;
        }
      }
      // 2) B
      for(let i=0;i<n;i++){
        if(marks[i]==='S') continue;
        const ch = g[i];
        if(remainS[ch]>0){
          marks[i] = 'B';
          remainS[ch]--;
        }
      }
      return marks; // 예: ['S','O','B','B']
    }

    function appendLog(word, marks){
      // 현재 입력 행을 결과로 변환
      const existingRow = document.getElementById('currentInputRow');
      if(existingRow){
        existingRow.id = ''; // ID 제거
        existingRow.className = 'try'; // 클래스 변경
        existingRow.innerHTML = ''; // 내용 초기화
        
        const wordSpan = document.createElement('span');
        wordSpan.style.fontWeight = '900';
        wordSpan.style.letterSpacing = '1px';
        wordSpan.textContent = word;
        
        const resultSpan = document.createElement('span');
        resultSpan.style.opacity = '.9';
        resultSpan.textContent = marks.join('');
        
        existingRow.appendChild(wordSpan);
        existingRow.appendChild(resultSpan);
      }
    }

function submitGuess(){
      if(gameOver) return;
      const g = currentInput.toUpperCase().replace(/[^A-Z]/g,'');
      if(g.length !== length){ setStatus(`Enter ${length} letters.`,'warn'); return; }
      if(!dict.includes(g)){ setStatus('Word not in word pool.','err'); return; }
      if(usedGuesses.has(g)){ setStatus('Word already tried.','warn'); return; }

      usedGuesses.add(g);
      tries++;

      const marks = perLetterSBO(secret, g);
      appendLog(g, marks);
      updateKeyStateFromGuess(g); // 있다/없다만 표시

      if(marks.every(m=>m==='S')){
        setStatus(`정답! ${secret}`,'ok');
        gameOver = true;
        toggleInput(false);
        return;
      }
      if(tries >= maxTries){
        setStatus(`실패! 정답은 ${secret}`,'err');
        gameOver = true;
        toggleInput(false);
        return;
      }
      
      // 게임이 계속되면 새로운 입력 행 추가
setStatus('Keep trying.');
currentInput = "";
      const newInputRow = renderCurrentInputRow();
      logEl.appendChild(newInputRow);
    }

    function onSubmit(){
      submitGuess();
    }

    // === 글자수 버튼 이벤트 ===
    lengthButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        // 모든 버튼에서 active 클래스 제거
        lengthButtons.forEach(b => b.classList.remove('active'));
        // 클릭된 버튼에 active 클래스 추가
        btn.classList.add('active');
        // 길이 설정
        length = parseInt(btn.dataset.length, 10);
setStatus('Word length selected. Press ▶.','warn');

      });
    });

    // === 이벤트 ===
    newGameBtn.addEventListener('click', startGame);
    revealBtn.addEventListener('click', ()=>{
      if(secret){
        setStatus(`정답은 ${secret}`,'ok');
        gameOver = true;
        toggleInput(false);
      }
    });

    // 새로운 키보드 이벤트
    backspaceBtn.addEventListener('click', removeLetter);
    enterKeyBtn.addEventListener('click', submitGuess);

    // 초기
    toggleInput(false);
    setStatus('Word length selected. Press ▶.','warn');
    renderAlphabetKeyboard();
  </script>

</body>
</html>
